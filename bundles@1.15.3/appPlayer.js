/*!
 * Xenarius - Mobile applications for your data, built without coding.
 * @version v1.15.3 data Fri Jan 20 2017
 * @link http://www.xenarius.net
 * @license https://xenarius.net/legal/eula/
 * Copyright (c) 2016 Devsoft Baltic OÃœ. All rights reserved.
 */
 
 System.registerDynamic("appPlayer/content/app-player.css!github:systemjs/plugin-css@0.1.26.js",[],!1,function(e,t,r){var n=System.get("@@global-helpers").prepareGlobal(r.id,null,null);return function(e){}(this),n()}),System.registerDynamic("appPlayer/appPlayer.js",[],!1,function(e,t,r){var n=System.get("@@global-helpers").prepareGlobal(r.id,null,null);return function(e){var t,r=e.__extends,t=e.AppPlayer,r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e){var t;!function(t){"use strict";function n(t){var r=function(e){return e.value},n=e.propertyVisitor(t,r,{getValueCallback:function(t,n){return $.isPlainObject(t)&&t.results&&$.isArray(t.results)?t.results:e.propertyVisitor(t,r,n)}});return n}function i(e,t,r){var n={},i=[];return e.fields&&(i=e.fields.filter(function(e){return e.storeId&&!0})),$.each(t,function(e,t){"__metadata"===e||t&&"object"==typeof t&&t.__deferred||(n[e]=t)}),i.forEach(function(e){n[e.name]&&(n[e.name]={__metadata:{uri:r[e.storeId]._byKeyUrl(t[e.name])}})}),n}function o(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function a(t){var r=function(e){var t=e.value;return o(t)?new u.Guid(t):t};return e.propertyVisitor(t,r,{getValueCallback:function(t,n){return e.propertyVisitor(t,r,n)}})}function s(e){return e.filter?$.extend({},e,{filter:a(e.filter)}):e}function l(e,t){return"Guid"===t.keyType?new u.Guid(e):e}var u=DevExpress.data,c=function(o){function a(e,t,r){o.call(this,a.createODataStoreOptions(e,r)),this.storeOptions=e,this.stores=t}return r(a,o),a.createODataStoreOptions=function(r,n){return{url:r.debugUrl||r.url,key:r.key,keyType:r.keyType,beforeSend:e.Utils.continueFunc(t.Utils.compileUrl({$global:n||{}}),t.Utils.addHeaders(r.headers)),errorHandler:e.Utils.correctODataError,version:r.version,withCredentials:void 0===r.withCredentials||r.withCredentials}},a.prototype.load=function(e){var t=$.Deferred();return o.prototype.load.call(this,s(e)).done(function(e){t.resolve(n(e))}).fail(t.reject),t.promise()},a.prototype.byKey=function(e,t){var r=$.Deferred();return o.prototype.byKey.call(this,l(e,this.storeOptions),t).done(function(e){r.resolve(n(e))}).fail(r.reject),r.promise()},a.prototype.insert=function(e){return o.prototype.insert.call(this,i(this.storeOptions,e,this.stores))},a.prototype.update=function(e,t){return o.prototype.update.call(this,e,i(this.storeOptions,t,this.stores))},a.prototype.remove=function(e){return o.prototype.remove.call(this,l(e,this.storeOptions))},a.prototype.totalCount=function(e){return o.prototype.load.call(this,s(e))},a}(DevExpress.data.ODataStore);t.ODataStore=c}(t=e.Stores||(e.Stores={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var n=function(n){function i(e,t,r){var i=this,o=function(t){var n=e[t]&&e[t].processResult,i=n?r.createFunctionCompiler(n):null;return i?function(e){return i.run(e,{callerId:t+".processResult",callerType:"RestStore"})}:function(e){return e.$data}},a=o("load"),s=o("byKey"),l=$.extend({},e,{key:e.key,load:function(r){var n,o={$global:t,$options:r};return n=e.load.getAjaxData?i.getHandler({storeOptions:e,operationName:"load",headers:e.headers,context:o,defaultMethod:"get",defaultGetAjaxData:null}).then(function(e){return a($.extend({$data:e},o))}):i._cacheArrayStore&&void 0!==r.skip&&0!==r.skip?i._cacheArrayStore.load(r):i.getHandler({storeOptions:e,operationName:"load",headers:e.headers,context:o,defaultMethod:"get",defaultGetAjaxData:null}).then(function(e){return a($.extend({$data:e},o))}).then(function(e){return Array.isArray(e)?(i._cacheArrayStore=new DevExpress.data.ArrayStore(e),i._cacheArrayStore.load(r)):e})},byKey:function(r){var n={$global:t,$key:r};return i.getHandler({storeOptions:e,operationName:"byKey",headers:e.headers,context:n,defaultMethod:"get",defaultGetAjaxData:null}).then(function(e){return s($.extend({$data:e},n))})},insert:function(r){var n=$.Deferred();return i.getHandler({context:{$global:t,$data:r},storeOptions:e,operationName:"insert",headers:e.headers,defaultMethod:"post",defaultGetAjaxData:function(){return r}}).done(function(e){n.resolve(i.keyOf(e))}).fail(n.reject),n.promise()},update:function(r,n){return i.getHandler({context:{$global:t,$key:r,$data:n},storeOptions:e,operationName:"update",headers:e.headers,defaultMethod:"patch",defaultGetAjaxData:function(){return n}})},remove:function(r){return i.getHandler({context:{$global:t,$key:r},storeOptions:e,operationName:"remove",headers:e.headers,defaultMethod:"delete",defaultGetAjaxData:null})},totalCount:function(r){return i.getHandler({context:{$global:t,$options:r},storeOptions:e,operationName:"totalCount",headers:e.headers,defaultMethod:"get",defaultGetAjaxData:null})}});n.call(this,l),this._handlers={},this._application=r}return r(i,n),i.prototype._eval=function(t,r){return t?e.Logic.Operation.eval(t,r):void 0},i.prototype._transformData=function(e,t){if(e)switch(t){case"get":$.each(e,function(t,r){r?r instanceof Date?e[t]=r.toISOString():e[t]=""+r:delete e[t]});break;case"post":case"patch":e=JSON.stringify(e)}return e},i._sendRequest=function(r,n,i,o,a){void 0===o&&(o="json"),void 0===a&&(a=[]);var s={url:r,type:n?n.toUpperCase():"GET",contentType:"application/json; charset=utf-8",dataType:o,data:i};return t.Utils.addHeaders(a)(s),e.Utils.ajax(s)},i.prototype.getHandler=function(t){var r=this,n=t.operationName,o=t.defaultMethod,a=t.defaultGetAjaxData,s=t.context,l=t.storeOptions[n],u=l.method||o;if(!this._handlers[t.operationName]){var c,d=l.getAjaxData;c=d?function(e){return r._application.createFunctionCompiler(d).run(e,{callerId:t.storeOptions.id,callerType:"restStore."+n})}:a?a:function(){return null},this._handlers[n]=function(n){var o=r._getUrl(l,n);return l&&o?$.when(c(n)).then(function(e){var a=r._transformData(r._eval(JSON.stringify(e),n),u);return i._sendRequest(o,u,a,t.storeOptions.dataType,t.headers)}):e.Logic.rejectPromise("No "+name+" url specified")}}return this._handlers[n](s)},i.prototype._getUrl=function(e,t){try{var r=e.debugUrl||e.url;return r.startsWith("=")?this._eval(r,t):r}catch(e){throw console.error(e),e}},i.prototype.bind=function(e){t.Utils.bindStore(this,e)},i}(DevExpress.data.CustomStore);t.RestStore=n}(t=e.Stores||(e.Stores={}))}(t||(t={}));var t;!function(e){var t;!function(e){"use strict";var t=DevExpress.data,n=function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype.byKey=function(t,r){return e.prototype.byKey.call(this,t,r).then(function(e){return e instanceof Object?$.extend({},e):e})},t.prototype.load=function(t){return e.prototype.load.call(this,t).then(function(e){return e&&$.each(e,function(t,r){r instanceof Object&&(e[t]=$.extend({},r))}),e})},t}(t.ArrayStore);e.ArrayStore=n}(t=e.Stores||(e.Stores={}))}(t||(t={}));var t;!function(e){"use strict";var t=DevExpress.framework.html,r=DevExpress.data,n=e.Stores,i=DevExpress.utils.console,o=function(){function o(t,r){var n=this;if(this.sharedObjects={},this.started=$.Callbacks(),this.dataError=$.Callbacks(),this.setAppConfig(t),this.id=t.id,this.localStorage=new e.LocalStorageWrapper(this),this.options=r,this.ns={},this.appConfig.navigation=t.navigation||{defaultView:"",items:[]},this.functions=this.createGlobalFunctions(),this.appConfig.params=this.appConfig.params||[],this.appConfig.model=this.appConfig.model||[],this.typeInfoRepository=new e.TypeInfoRepository(t.dataStores),this.model=e.Model.createAppModel(this.appConfig,this),this.setModelValueFromParameter(),this.loadNavigation(),this.copyGlobalCommands(),this.createStores(),e.Model.initializeDataSources(this.model,{$model:this.model,$global:this.model},this,this.stores,!1,this.appConfig.dataSources),this.model.hasOwnProperty("title")){var i,o=ko.computed(function(){return n.model.title});i="com.devexpress.Xenarius.Designer"===this.id?function(){o()?document.title=o()+" - Xenarius Admin":document.title="Xenarius Admin"}:function(){document.title=o()},o.subscribe(i),i()}if(t.onStarted){var a=this.createFunctionCompiler(t.onStarted);this.started.add(function(){return a.run({$global:n.model})})}}return Object.defineProperty(o,"SPLIT_NAV_VIEW_ID",{get:function(){return"splitNavigation"},enumerable:!0,configurable:!0}),Object.defineProperty(o,"SHARED_PARAMETER",{get:function(){return"xet-shared-object"},enumerable:!0,configurable:!0}),o.get=function(){return window.app?window.app.instance:null},o.prototype.setAppConfig=function(e){this.appConfig=e,this.appConfig.platforms=this.appConfig.platforms||[{name:"DesktopRule",layout:"desktop",defaultCommandContainer:"header",defaultCommandLocation:"after",options:{generic:!0}},{name:"PhoneRule",layout:"slideout",defaultCommandContainer:"header",defaultCommandLocation:"after",options:{phone:!0}},{name:"TabletRule",layout:"split",defaultCommandContainer:"header",defaultCommandLocation:"after",options:{tablet:!0}}],this.appConfig.views=this.appConfig.views||[],this.appConfig.views.forEach(function(e){(e.commands||[]).forEach(function(t){t.id=e.id+"_"+t.id})})},o.prototype.isSplitLayout=function(){var t=DevExpress.devices.current(),r=e.LayoutHelper.tryGetCurrentPlatform(this.appConfig.platforms,t),n=r&&"split"===r.layout;return n},o.prototype.setModelValueFromParameter=function(){var t=this;this.appConfig.params.forEach(function(r){var n=e.getQueryVariable(r.name);n&&(t.model[r.name]=n)})},o.prototype.loadNavigation=function(){var e=this.appConfig.navigation;!this.appConfig.isDesignMode&&this.isSplitLayout()&&e&&!e.customSplitNavigation&&e.items&&e.items.length>0&&(this.appConfig.views.splice(0,0,this.getSplitNavigationView()),(this.appConfig.dataStores=this.appConfig.dataStores||[]).push(this.getNavigationItemsStore()))},o.prototype.copyGlobalCommands=function(){var e=this;if(this.appConfig.globalCommands&&this.appConfig.views){var t=this.isSplitLayout();this.appConfig.views.forEach(function(r){t&&"master"!==r.pane||(r.commands||(r.commands=[]),e.appConfig.globalCommands.forEach(function(e){r.commands.push($.extend({},e,{id:e.id+r.id}))}))})}},o.prototype.navigate=function(e,t){this.dxapp.navigate(e,t)},o.prototype.initializeDefaultView=function(t){var r=e.LayoutHelper.tryGetCurrentPlatform(this.appConfig.platforms,t),n=r&&"split"===r.layout,i=r&&r.defaultView?r.defaultView:this.appConfig.navigation.defaultView;if(!this.appConfig.isDesignMode&&n&&!r.defaultView){var o=e.findInArray(this.appConfig.views,function(e){return"master"===e.pane});o&&(i=o.id)}return i},o.prototype.showSplashscreen=function(){var e=navigator.splashscreen;e&&e.show()},o.prototype.restart=function(){window.location.reload(!0),this.showSplashscreen()},o.prototype.run=function(){var t=this,n=this;r.errorHandler=this._errorHandler.bind(this),DevExpress.devices.current({platform:"generic"});var i=DevExpress.devices.current();this.defaultView=this.initializeDefaultView(i),this.moduleLoader=new e.ModulesLoader(this);var o,a;o=this.htmlAppConfiguration(),a=e.LayoutHelper.createLayoutSet(this.appConfig.platforms,this.appConfig.isDesignMode,this.appConfig.views),o.layoutSet=a.layoutSet,this.dxapp=this._createApplication(o),this.dxapp._xetGetView=this._getView.bind(this),this.dxapp.on("resolveViewCacheKey",function(e){var t=e.routeData.view,r=n.appConfig.views.some(function(e){return e.id===t&&e.refreshWhenShown});r&&(e.key=t)}),this.dxapp._processRequestResultLockEnabled=!0,this.dxapp.on("resolveLayoutController",function(t){var r=e.LayoutHelper.tryGetViewSpecificLayoutController(t.viewInfo.viewName,a.viewSpecificLayouts);r&&(t.layoutController=r)});var s=function(){t.dxapp.off("viewShown",s),$(window).resize(),t.started.fire(t)};if(new e.Modules.Authorization(this.appConfig,this),this.dxapp.on("viewShown",s),this.dxapp.on("navigating",this._onNavigating.bind(this)),this.dxapp.router.register(":view/:parameters",{view:n.defaultView,parameters:""}),window.xetHandleOpenURL){var l=window.xetHandleOpenURL;this.functions.navigateToView(l.uri,l.params,!0)}else location.hash&&"#"!==location.hash?("#test-error"===location.hash&&(this.dxapp.bbb.ccc.ddd=100),this.navigate()):this.navigateToDefaultView();window.loadingIndicator&&window.loadingIndicator.clear()},o.prototype._createApplication=function(e){return new t.HtmlApplication(e)},o.prototype._errorHandler=function(t){t instanceof e.Logic.LogicError?this._logicErrorHandler(t):t instanceof e.Logic.DataLogicError?this._dataLogicErrorHandler(t):this._dataErrorHandler(t)},o.prototype._logicErrorHandler=function(t){e.Utils.showError(t)},o.prototype._dataLogicErrorHandler=function(t){var r={error:t.data,handled:!1};this.dataError.fire(r),r.handled||e.Utils.showError(t)},o.prototype._dataErrorHandler=function(t){var r={error:t,handled:!1};this.dataError.fire(r),r.handled||e.Utils.showError(t)},o.prototype._ensureView=function(e){if(this.ns[e])return $.Deferred().resolve().promise();var t=this._getView(e);return this.ns[e]=t.viewModel,this.dxapp.loadTemplates(t.viewMarkup)},o.prototype._getView=function(t){return new e.Views.View(this.appConfig.views.filter(function(e){return e.id===t})[0],this)},o.prototype.registerMissingTemplate=function(e){$.inArray(e,o.missingTemplates)===-1&&o.missingTemplates.push(e)},o.prototype.templateIsMissing=function(e){return $.inArray(e,o.missingTemplates)!==-1},o.prototype.getNavigationItemsStore=function(){return{id:"navigationItems",type:"array",array:this.htmlAppNavigation()}},o.prototype.getSplitNavigationView=function(){var e=this;return{id:o.SPLIT_NAV_VIEW_ID,title:this.appConfig.navigation&&this.appConfig.navigation.title?this.appConfig.navigation.title:"Menu",pane:"master",dataSources:[{id:"navigationItemsDatasource",store:"navigationItems"}],components:[{id:"navigationList",type:"list",dataSource:"$model.navigationItemsDatasource",itemComponents:[{id:"itemContainer",type:"stackPanel",orientation:"horizontal",verticalAlign:"center",style:{width:"100%",paddingTop:"12px",paddingLeft:"12px",paddingBottom:"12px"},components:[{id:"navigationItemIcon",type:"icon",icon:"$data.icon"},{id:"navigationItem",type:"label",text:"$data.title",style:{fontSize:"16px",marginLeft:"12px"}}]}],onItemClick:function(t){"function"==typeof t.$data.onExecute?t.$data.onExecute():e.functions.navigateToView(t.$data.onExecute.substr(1))}}]}},o.prototype.createGlobalFunctions=function(){var t,r=this,n={},a=0;return n.busy=function(){return a++,1===a&&(t=$("<div>").appendTo(DevExpress.viewPort()).addClass("dx-static").dxLoadPanel({shading:!0,shadingColor:"rgba(128, 128, 128, .2)"}).data("dxLoadPanel"),t.option("onHidden",function(e){e.element.remove()}),t.show()),a},n.available=function(){return a--,0===a&&t.hide(),a<0&&(a=0),a},n.getBusyCounter=function(){return a},n.back=function(){return r.dxapp.back()},n.navigateToView=function(t,n,i){t||(t=r.defaultView);var a=r.appConfig.views.filter(function(e){return e.id===t})[0];if(!a)throw'View "'+t+'" has not found. Can not navigate to target view.';if(a.params&&a.params.some(function(t){return!e.Views.ViewModel.optional(t)})&&!n)console.error("NavigateToView '"+a.id+"'. View parameters not found.");else if(a.params){var s=[];a.params.forEach(function(t){if(!n||void 0===n[t.name])return void(e.Views.ViewModel.optional(t)||s.push(t.name));var i=n[t.name],a=r.typeInfoRepository.get(t.type);if(a&&a.kind===e.TYPES.STORE_TYPE){var l=r.stores[a.name];void 0!==i&&(t.shared&&(r.sharedObjects[t.name]=i),n[t.name]=l.keyOf(i)||i)}else t.shared&&(r.sharedObjects[t.name]=i,n[t.name]=o.SHARED_PARAMETER)}),s.length&&console.error("NavigateToView '"+a.id+"'. Missing parameters: "+s.join(", "))}if(r.dxapp){var l=function(e){var n=r.dxapp&&r.dxapp.router?r.dxapp.router.parse(e.uri).view:e.uri;return n!==t?void console.error("Invalid navigation chaing"):(a.params.forEach(function(e){return delete r.sharedObjects[e.name]}),void r.dxapp.off("navigated",l))};r.dxapp.on("navigated",l)}var u=void 0;r.isSplitLayout()&&"master"===a.pane?u={root:!1}:(r.isNavigationItem(t)||r.isCrossPaneTransition(i,a.pane)||r.isAuthorizationView(t))&&(u={root:!0,target:"current"}),!n||$.isEmptyObject(n)?r.navigate({view:t},u):r.navigate({view:t,parameters:n},u)},n.load=function(e,t){return r.stores[e].load(t)},n.byKey=function(e,t,n){return r.stores[e].byKey(t,n)},n.keyOf=function(e,t){return r.stores[e].keyOf(t)},n.save=function(e,t,i){n.busy();var o=r.stores[t];i||(i=o.keyOf(e));var a=void 0===i?o.insert(e):o.update(i,e);return a.then(function(t,r){i||(e[o.key()]=r)}).always(n.available)},n.insert=function(e,t){return n.busy(),r.stores[t].insert(e).always(n.available)},n.delete=function(e,t){var i=r.stores[t],o=$.isPlainObject(e)?i.keyOf(e):e;return n.busy(),i.remove(o).always(n.available)},n.refresh=function(e){var t=r.stores[e];t.fireEvent("modified")},n.getDataStoreConfig=function(e){var t=r.appConfig.dataStores.filter(function(t){return t.id===e});if(0===t.length)throw"Data provider '"+e+"' is not found!";return t.length>1&&console.warn("Found %o data providers with id '%o'",t.length,e),t[0]},n.getDataStore=function(e){return r.stores[e]},n.log=function(e,t){var r=i.logger;r[e](t)},n.getCookie=function(e){for(var t=e.cookieName+"=",r=document.cookie.split(";"),n="",i=$.Deferred(),o=0;o<r.length;o++){for(var a=r[o];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t)){n=a.substring(t.length,a.length);break}}return i.resolve(n),i},n.createFunctionCompiler=this.createFunctionCompiler.bind(this),n},o.prototype.isNavigationItem=function(t){return this.appConfig.navigation&&e.indexInArray(this.appConfig.navigation.items,function(e){return e.id===t})!==-1},o.prototype.isAuthorizationView=function(e){return this.appConfig.authorization&&this.appConfig.authorization.loginView===e},o.prototype.isCrossPaneTransition=function(e,t){return void 0===e&&(e="detail"),void 0===t&&(t="detail"),this.isSplitLayout()&&e!==t},o.prototype.processParameterLoadingError=function(e,t){var r=DevExpress.ui.dialog.custom({title:"Error",message:"Cannot load an '"+e+"' parameter with the '"+t+"' key.",buttons:[{text:"Go Back",onClick:this.functions.back}]});r.show()},o.prototype.createStores=function(){var e=this;this.stores||(this.stores={},(this.appConfig.dataStores||[]).forEach(function(t){e.stores[t.id]=n.StoreFactory.createStore(t,e)}))},o.prototype.getCommandMapping=function(){var t=this,r={};return(this.appConfig.views||[]).forEach(function(n){e.LayoutHelper.fillCommandMapping(r,n.commands,t.appConfig.platforms,DevExpress.devices.current())}),r},o.prototype._getNavigatingInfo=function(e){var t=e.indexOf(o.SHARED_PARAMETER),r=this.dxapp?this.dxapp.router.parse(e).view:e,n=this.appConfig.views.filter(function(e){return e.id===r})[0];return(t>=0&&0===Object.keys(this.sharedObjects).length||!n)&&(n=this._getDefaultViewConfig(),n&&(r=n.id,e=r)),{viewId:r,viewConfig:n,uri:e}},o.prototype._onNavigating=function(e){var t=this,r=$.Deferred().resolve().promise();if(!e.cancel){var n=this._getNavigatingInfo(e.uri),i=n.viewId,o=n.viewConfig,a=n.uri,s=o.modules||[],l=o.modulesToSkip||[],u=this.appConfig.modules||[],c=u.filter(function(e){return l.indexOf(e)<0}).concat(s);a!==e.uri&&(e.uri=a),0===this.moduleLoader.getModulesToInit(c).length&&this.ns[i]||(e.cancel=!0,this.functions.busy(),r=this.moduleLoader.initModules(c).then(function(){var r=function(){return t.navigate(e.uri,e.options)};if(t.ns[i])r();else try{return t._ensureView(i).then(r).fail(function(e){console.error("Failed to load the '"+i+"' view template.")})}catch(e){console.error("Failed to load the '"+i+"' view template. "+e)}}).always(function(){return t.functions.available()}))}return r},o.prototype.createFunctionCompiler=function(t){return this.functions||console.error("Functions parameter is necessary for compiler"),new e.Logic.FunctionCompiler(this.functions,t,this._errorHandler.bind(this))},o.prototype._getDefaultViewConfig=function(){var t=this,r=e.findInArray(this.appConfig.views,function(e){return e.id===t.defaultView});return r||(this.defaultView?e.Utils.showError("Default view '"+this.defaultView+"' doesn't exist."):this.appConfig.views.length?(r=this.appConfig.views[0],this.appConfig.views.length>1&&e.Utils.showError("You can specify app default view in the designer. Click the cogwheel button next to the app title, then change Navigation - Default View property.")):e.Utils.showError("Your app doesn't have any views. Please create one in the designer.")),r},o.prototype.navigateToDefaultView=function(){var e=this._getDefaultViewConfig();e&&this.navigate({view:e.id},{target:"current"})},o.prototype.on=function(e,t){switch(e){case"started":this.started.add(t);break;case"dataError":this.dataError.add(t);break;default:this.dxapp.on(e,t)}},o.prototype.off=function(e,t){switch(e){case"started":this.started.remove(t);break;case"dataError":this.dataError.remove(t);break;default:this.dxapp.off(e,t)}},o.prototype.getNavigationItemTitle=function(t){var r,n,i=t.title;return i||(r=t.id,n=e.findInArray(this.appConfig.views,function(e){return e.id===r}),i=n?n.title:"View Not Found"),i},o.prototype.htmlAppNavigation=function(){var t=this;return this.appConfig.navigation.items.map(function(r){"string"==typeof r&&(r={id:r});var n,i=r.onExecute?t.createFunctionCompiler(r.onExecute):void 0;i&&(n=function(e){return i.run({$global:t.model,$model:void 0,$data:e,$value:void 0},{callerType:"navigation item",callerId:r.id})});var o=0,a=r.id||"item"+ ++o,s={id:a,onExecute:n||(t.appConfig.isDesignMode!==!0?"#"+(r.id||r):function(){}),title:t.getNavigationItemTitle(r),visible:"string"==typeof r.visible&&r.visible.length>0?e.wrapModelReference(r.visible,{$global:t.model},{callerType:"property of the "+a+" command",callerId:"visible"},t.functions):r.visible||!0};return $.isPlainObject(r)&&(s=$.extend({},r,s)),s})},o.prototype.htmlAppConfiguration=function(){var t={namespace:this.ns,navigation:this.htmlAppNavigation(),commandMapping:this.getCommandMapping()};return"desktop"===e.LayoutHelper.getDeviceType()&&(t.mode="webSite"),t},o.missingTemplates=[],o}();e.Application=o}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=$.Deferred();return r.resolve.apply(r,arguments).promise()}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=$.Deferred();return r.reject.apply(r,arguments).promise()}function o(e){if(!e)return!1;var r=!1,n=function(e){return"Event"===e._type&&e.flow===t.Flow.Return?void(r=!0):void $.each(e,function(e,t){return!r&&void(t&&($.isArray(t)||"object"==typeof t)&&n(t))})};return n(e),r}t.logEnabled=!1;var a=function(){function e(e,t,r){this.functions=e,this.calls=t,this.externalErrorHandler=r}return e.prototype.run=function(e,r){var n,o=this,a=function(e){e.source=o.calls,e.callerInfo=r,o.externalErrorHandler&&o.externalErrorHandler(e)};t.logEnabled&&r&&(console.groupCollapsed("Run '"+r.callerId+" \"' "+r.callerType),console.log("Context: %o",e),console.log("Logic: %o",this.calls),console.groupEnd()),this.strategy||(this.strategy=this.createStrategy(this.functions,this.calls));try{var s=[];e&&$.each(e,function(e){s.push(e)}),n=this.strategy.run(e,s),n.fail(a)}catch(e){var l=new t.LogicError(e.message||e,null);return a(l),i(l)}return n},e.prototype.createStrategy=function(e,t){if(t instanceof Function)return new l(e,t);if(!t||$.isEmptyObject(t))return new s(e);if("string"==typeof t)return d.isCompatible(t)?new d(e,t):new u(e,t);var r=t.logic||t;return new c(e,r)},e}();t.FunctionCompiler=a;var s=function(){function e(e){this.functions=e}return e.prototype.run=function(e,t){return n()},e.prototype.compile=function(e,t,r){var n="with($functions){"+t+"}",i=["$functions"];[].push.apply(i,r);var o=new Function(i.join(", "),n);return function(t){var n=[e];return r.forEach(function(e){n.push(t[e])}),o.apply(o,n)}},e}(),l=function(e){function t(t,r){e.call(this,t),this.calls=r}return r(t,e),t.prototype.run=function(e,t){var r=this.calls(e);return r&&"function"==typeof r.always&&"function"==typeof r.done?r:n(r)},t}(s),u=function(e){function t(t,r){e.call(this,t),this.calls=r}return r(t,e),t.prototype.run=function(e,t){this.compiledFunctions||(this.compiledFunctions=this.compile(this.functions,this.calls,t));var r=this.compiledFunctions(e);return r&&"function"==typeof r.always&&"function"==typeof r.done?r:n(r)},t}(s),c=function(e){function i(t,r){e.call(this,t),this.calls=r}return r(i,e),i.prototype.getAllVariables=function(e,r){var n={};return r.forEach(function(e){n[e.name]=e}),$.each(e,function(e){n[e]||(n[e]=new t.Variable({name:e,value:null,parameter:!0,type:"object"}))}),n},i.prototype.run=function(e,r){if(!this.calls)return null;var i=[],o=[];this.calls.variables&&(i=this.calls.variables.map(function(e){return t.Variable.fromJson(e)})),this.calls.calls&&(o=this.calls.calls.map(function(e){return t.Operation.fromJson(e)}));var a=this.getAllVariables(e,i);Object.getOwnPropertyNames(a).forEach(function(t){var r=a[t];r.resetValue(),r.value=e&&r.parameter?e[r.name]:r.value,a[r.name]=r});var s=new p(a,this.functions);return t.Operation.run(o,s,this.functions).then(function(e){return e&&e.flow===t.Flow.Return?n(e.value):n()})},i}(s),d=function(e){function t(t,r){e.call(this,t,r)}return r(t,e),t.isCompatible=function(e){return/^\$(global|model)\.[\w\$]+$/.test(e)},t.prototype.compile=function(e,t,r){var n="return "+t+"($context);",i=["$context"];[].push.apply(i,r);var o=new Function(i.join(", "),n);return function(e){var t=[e];return r.forEach(function(r){t.push(e[r])}),o.apply(o,t)}},t}(u),p=function(){function r(e,r){this.variables=e,e.$functions=e.$functions||new t.Variable({name:"$functions",value:r||{}}),this.cachedGetters={}}return r.prototype.add=function(e,r){this.variables[e]=new t.Variable({name:e,value:r})},r.prototype.get=function(e){return this.variables[e]},r.prototype.isDefined=function(e){if("string"!=typeof e||!e.length)return!1;var t=this.getVariableName(e);return!!this.variables[t]},r.prototype.getValue=function(e){if("string"!=typeof e||!e.length)return e;var t=this.cachedGetters[e];return t||(this.cachedGetters[e]=t=this.compileGetter(e)),t()},r.prototype.evalAutoExpression=function(e){return"string"==typeof e&&e.length&&e.startsWith("=")?this.getValue(e.substr(1)):e},r.prototype.getValueOrDefault=function(e,t){try{return this.getValue(e)}catch(e){return t}},r.prototype.setValue=function(e,t){if("string"==typeof e&&e.length){var r=this.evalPath(e),n=this.compileSetter(r);n(t)}},r.prototype.clone=function(){return new r($.extend({},this.variables))},r.prototype.getContext=function(e){void 0===e&&(e=!1);var t={};return $.each(this.variables,function(r,n){e&&0!==r.indexOf("$")||(t[r]=n.value)}),t},r.prototype.compileGetter=function(e){var t=this;if(this.variables[e])return function(){return t.variables[e].value};var r=[];$.each(this.variables,function(e,t){r.push(t.name)}),r.push("with($functions) { return ("+e+"); }");var n=Function.apply(null,r);return function(){var e=r.slice(0,r.length-1).map(function(e){return t.variables[e].value});return n.apply(null,e)}},r.prototype.evalPath=function(e){for(var t,r,n=e.indexOf("["),i=n>0?e.substr(0,n):e;n>0;)t=e.indexOf("]",n),r=e.substring(n+1,t).trim(),i+="."+this.getValue(r),n=e.indexOf("[",t),i+=e.substring(t+1,n>0?n:void 0);return i},r.prototype.compileSetter=function(t){var r=this;if(this.variables[t])return function(e){return r.variables[t].value=e};var n=this.getVariableName(t),i=t.substr(n.length+1);if(!this.variables[n])throw new Error("Variable: "+n+" is not defined");var o=e.compileSetter(i);return function(e){return o(r.variables[n].value,e)}},r.prototype.getVariableName=function(e){var t=e.indexOf(".");t=t===-1?e.length:t;var r=e.indexOf("[");r=r===-1?e.length:r;var n=Math.min(t,r),i=e.substring(0,n);return i},r.createModelDefaults=function(e){void 0===e&&(e={});var t=new r({});return Object.keys(e).forEach(function(r){var n={},i=e[r];i.forEach(function(e){return n[e.name]=e.defaultValue}),t.add(r,n)}),t},r}();t.VariableStore=p,t.trivialPromise=n,t.rejectPromise=i,t.returnsValue=o}(t=e.Logic||(e.Logic={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=(function(){function e(){}return e}(),function(){function t(t,r){var n=this;if(this.locations=[],this.loginView="",this.allowAnonymous=!0,this.app=r,t.authorization){var i=t.authorization;this.loginView=i.loginView,this.allowAnonymous=i.allowAnonymous,(i.locations||[]).forEach(function(e){var t=e.allowAnonymous;"string"==typeof t&&(t="true"===t.toLowerCase()),n.locations.push({view:e.view,allowAnonymous:t})})}r.functions.logout=function(){n.logout()},r.on("dataError",function(e){401!==e.error.httpStatus&&"Unauthorized"!==e.error.message||(e.handled=!0,n.logout())}),this.onNavigating=function(t){n.canNavigate(t.uri)||(t.cancel=!0,n.loginView?setTimeout(function(){r.navigate({view:n.loginView},{root:!0})}):e.Utils.showError("Login view is not specified and anonymous access is disabled"))},this.app.on("navigating",this.onNavigating)}return Object.defineProperty(t.prototype,"authenticated",{get:function(){return!!this.app.model.authenticated},enumerable:!0,configurable:!0}),t.prototype.canNavigate=function(e){if(this.authenticated||e===this.loginView||e===encodeURIComponent(this.loginView))return!0;var t=this.locations.filter(function(t){return 0===e.indexOf(t.view)});return t.length?t[0].allowAnonymous:this.allowAnonymous},t.prototype.logout=function(){var e=this.app;e.restart(),e.model.authenticated=!1},t}());t.Authorization=r}(t=e.Modules||(e.Modules={}))}(t||(t={}));var t;!function(e){"use strict";var t=DevExpress.ui,n=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype._processDataSourceChanging=function(){this._setListDataSource(),this._renderValue()},t}(t.dxSelectBox);e.XetSelectBox=n,DevExpress.registerComponent("xetSelectBox",n)}(t||(t={}));var t;!function(e){"use strict";function t(e,t){setTimeout(function(){var r=e.nextElementSibling,n=r.style[t],i=$(r)[t]();n.indexOf("%")!==-1&&0===i&&(r.style[t]="initial")})}ko.bindingHandlers.dxOptions={update:function(e,t){var r=ko.utils.unwrapObservable(t()||{});$.each(r,function(t,r){r=ko.unwrap(r)||0,e["data-options"]=t+r})}},ko.bindingHandlers.dxPartialView={init:function(e,t,r,n,i){$(e).append($("#xet-view").text())}},ko.bindingHandlers.themeCustomizer={init:function(e,t,r,n,i){ko.computed(function(){var e="dynamic-styles",r=t().theme;r&&($("#"+e).remove(),$("<style>"+r+"</style>").attr("type","text/css").attr("id",e).appendTo("head"),DevExpress.ui.themes.current({_autoInit:!0}))})}},ko.bindingHandlers.xetScrollViewResetter={init:function(e,t,r,n,i){t().reset=function(){$(e).find(".dx-scrollview").each(function(e,t){var r=$(t).dxScrollView("instance");r.update(),r.scrollTo(0)})}}},ko.bindingHandlers.preventCollapsingInSafari={update:function(e,r,n,i,o){navigator.userAgent.toLowerCase().indexOf("safari")===-1||window.MSStream||["height","width"].forEach(function(r){t(e,r)})}},ko.bindingHandlers.debugger={update:function(e,t,r,n,i){ko.unwrap(t().track)}}}(t||(t={}));var t;!function(e){"use strict";var t=DevExpress.framework.html,r=DevExpress,n=function(){function e(){}return e.tryGetCurrentPlatform=function(e,t){t=t||r.devices.current();var n=DevExpress.utils.findBestMatches(t,(e||[]).map(function(e,t){return $.extend({platformIndex:t},e.options)}));return n.length?e[n[0].platformIndex]:void 0},e.getLayoutController=function(e,n){var i,o={navbar:"NavBarController",slideout:"SlideOutController",split:"IOSSplitLayoutController",simple:"SimpleLayoutController",empty:"EmptyLayoutController",popup:"PopupLayoutController",designer:"DesignerController"},a=o[e.layout];return"split"===e.layout&&e.options.generic&&(a="GenericSplitLayoutController"),i=a&&r.framework.html[a]?new r.framework.html[a]({swipeEnabled:!n}):new t.DefaultLayoutController({name:"desktop",swipeEnabled:!n}),n&&i instanceof DevExpress.framework.html.SlideOutController&&(i._toggleNavigation=function(){}),i},e.createLayoutSet=function(r,n,i){var o={layoutSet:[],viewSpecificLayouts:[]};return r.forEach(function(t){
o.layoutSet.push($.extend({controller:e.getLayoutController(t,n)},t.options||{}))}),i&&i.forEach(function(r){r.platforms&&r.platforms.forEach(function(i){var a=e.getLayoutController(i,n);i&&i.modal&&(a=new t.PopupLayoutController({childController:a})),o.layoutSet.push($.extend({customResolveRequired:!0,controller:a},i.options||{})),o.viewSpecificLayouts.push({view:r.id,options:i.options,controller:a})})}),o},e.tryGetViewSpecificLayoutController=function(e,t){var r;if(t.length>0)for(var n=0;n<t.length;++n){var i=t[n],o=!0,a=DevExpress.devices.current();if(i.view===e&&(i.options&&$.each(i.options,function(e,t){if(a[e]!==t)return o=!1}),o)){r=i.controller;break}}return r},e.getDeviceType=function(e){return void 0===e&&(e=DevExpress.devices.current()),e.deviceType||"pnone"},e.setSimulatorDevice=function(e){DevExpress.devices.current(e);var t=DevExpress.devices.real();window.top["dx-force-device"]=t.deviceType!==e.deviceType?e:void 0},e.linkTarget=function(){return"desktop"===e.getDeviceType()?"_blank":"_system"},e.fillCommandMapping=function(t,r,n,i){var o=this.getDeviceType(i),a=e.tryGetCurrentPlatform(n,i),s={header:["ios-header-toolbar","generic-header-toolbar","desktop-toolbar"],footer:["ios-view-footer","generic-view-footer"],toolbar:["generic-layout-toolbar"],none:[]};return(r||[]).forEach(function(e){var r=e.container?e.container[o]:null;r||(r=a&&a.defaultCommandContainer||"header");var n={id:e.id},i=s[r];return e.alignment&&e.alignment.hasOwnProperty(o)?n.location=e.alignment[o]:n.location=a&&a.defaultCommandLocation||"after",i?void i.forEach(function(e){t[e]?t[e].commands.push(n):t[e]={commands:[n]}}):void console.error("Unknown command container '"+r+"'. Supported values are: header, footer, toolbar")}),t},e}();e.LayoutHelper=n}(t||(t={}));var t;!function(e){"use strict";var t=function(){function t(){}return t.createAppModel=function(e,r){var n={},i={$global:n};return t.createModelCore(e,r,i,"global ",n)},t.createModel=function(e,r,n){var i={},o={$global:r.model,$model:i};return t.createModelCore(e,r,o,"",i,n)},t.createPlainPropertyDescriptor=function(r,n){var i=n.app,o=n.modelId,a=!1,s=i.typeInfoRepository.get(r.type),l=!r.type||s,u=s&&s.kind===e.TYPES.STORE_TYPE,c=l&&!u?(s||null)&&s.defaultValueCtor():42,d=s&&s.kind===e.TYPES.ARRAY_TYPE,p=d?ko.observableArray(c):ko.observable(c),f=function(){return p()},h=t.getObservableSetter(p.peek(),d,p,"",r.observables);if(p.subscribe(function(e){a&&r.persistent&&i.localStorage.put(o,r.name,e)}),void 0!==r.defaultValue&&h(e.Utils.clone(r.defaultValue)),a=!0,r.persistent){var m=i.localStorage.get(o,r.name);"undefined"!=typeof m&&h(m)}return{modelProperty:r,propertyDescriptor:{enumerable:!0,configurable:!0,get:f,set:h}}},t.createCalculatedPropertyDescriptor=function(e,t){var r=this,n=t.context,i=t.callerPrefix,o=t.app,a=ko.observable(),s={callerType:i+"model property",callerId:e.name},l=ko.computed(function(){o.createFunctionCompiler(e.getter).run($.extend({},n),s).then(function(t){var n=r.setObservableProperties(a(),t,name,e.observables);a(n)})},null,{deferEvaluation:!0}),u={enumerable:!0,configurable:!0,get:function(){return l(),ko.unwrap(a())}};return e.setter&&(u.set=function(t){var i=a();if(i!==t){if(ko.isObservable(i))return void console.error("Property cannot have a setter if getter returns observable.");o.createFunctionCompiler(e.setter).run($.extend({$value:t},n));var s=r.setObservableProperties(a(),t,name,e.observables);a(s)}}),{modelProperty:e,propertyDescriptor:u,computed:l}},t.createFunctionPropertyDescriptor=function(e,t){var r=t.app,n=t.context,i=t.callerPrefix,o={callerType:i+"function",callerId:e.name},a=function(t){return r.createFunctionCompiler(e.function).run($.extend({},n,t),o)};return{modelProperty:e,propertyDescriptor:{enumerable:!0,configurable:!0,value:a}}},t.createPropertyDescriptor=function(e){var t=e.item;return t.getter||t.setter?this.createCalculatedPropertyDescriptor(t,e):t.function?this.createFunctionPropertyDescriptor(t,e):this.createPlainPropertyDescriptor(t,e)},t.createModelCore=function(e,t,r,n,i,o){var a=this,s=[e.params,e.model,e.functions].reduce(function(e,t){return t&&e.push.apply(e,t),e},[]),l=s.map(function(i){return a.createPropertyDescriptor({item:i,app:t,callerPrefix:n,context:r,modelId:e.id})});o&&o(l),this.onCustomizeProperties&&this.onCustomizeProperties(l);var u=l.filter(function(e){return!!e.computed}).map(function(e){return e.computed});i.dispose=function(){u&&(u.forEach(function(e){return e.dispose()}),u=null)};var c=l.reduce(function(e,t){return e[t.modelProperty.name]=t.propertyDescriptor,e},{});return Object.defineProperties(i,c),i},t.createLinkedModel=function(t,r,n,i){return e.propertyVisitor(t,function(t){if(e.endsWith(t.name,"Expr"))return t.value;var o=t.value;if(o&&"string"==typeof o&&"$"===o.charAt(0)){var a,s=t.owner,l=t.name,u=e.getModelValue(o,r,n,i);return"function"==typeof u?t.value:void(t.isArray?a=ko.computed(function(){return s[l]=e.getModelValue(o,r,n,i)}):(a=ko.computed(function(){return e.getModelValue(o,r,n,i)}),Object.defineProperty(s,l,{enumerable:!0,configurable:!0,get:function(){return a()}})))}return t.value})},t.processArrayMethodArguments=function(e,t,r,n){var i,o=[];switch(t){case"push":case"unshift":for(i=0;i<e.length;++i)o.push(this.setObservableProperties(void 0,e[i],r,n));break;case"splice":for(o.push(e[0]),o.push(e[1]),i=2;i<e.length;i++)o.push(this.setObservableProperties(void 0,e[i],r,n));break;case"fill":for(o.push(this.setObservableProperties(void 0,e[0],r,n)),i=1;i<e.length;++i)o.push(e[i]);break;case"sort":e.length&&o.push(e[0])}return o},t.getObservableSetter=function(e,t,r,n,i){var o=this;return t&&ko.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift","fill"],function(t){var a=e[t];a&&(e[t]=function(){for(var s=[],l=0;l<arguments.length;l++)s[l-0]=arguments[l];var u=o.processArrayMethodArguments(s,t,n,i),c=a.apply(e,u||s);return r.valueHasMutated(),c})}),function(e){t&&$.isArray(e)&&$.isArray(r.peek())?r.splice.apply(r,[0,r.peek().length].concat(e)):r(o.setObservableProperties(r(),e,n,i))}},t.getObservableDescriptor=function(e,r,n){var i=$.isArray(e),o=i?ko.observableArray(e):ko.observable(e);return{enumerable:!0,configurable:!0,get:function(){return o()},set:t.getObservableSetter(e,i,o,r,n)}},t.getPlainDescriptor=function(e,t,r){var n=this,i=e;return{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=n.setObservableProperties(i,e,t,r)}}},t.getDescriptor=function(e,t,r){var n=t.split("."),i="*",o=(r||[]).some(function(e){var t=e.split("."),r=!0;if(t.length<n.length)r=t[t.length-1]===i;else if(n.length<t.length)r=!1;else for(var o=0;o<n.length&&t[o]!==i;++o)if(n[o]!==t[o]){r=!1;break}return r});return o?this.getObservableDescriptor(e,t,r):this.getPlainDescriptor(e,t,r)},t.processArray=function(e,t,r,n){var i=this,o=[];return $.each(t,function(t,a){o.push(i.setObservableProperties(e?ko.unwrap(e)[t]:void 0,a,r,n))}),o},t.setObservableProperties=function(e,t,r,n){var i=this;if(!n||0===n.length)return t;if($.isArray(t))return this.processArray(e,t,r,n);if($.isPlainObject(t)){var o=$.isPlainObject(e)?e:{};$.each(o,function(e,r){void 0===t[e]&&delete o[e]});var a={};return $.each(t,function(e,t){if(void 0===o[e]){var s=""===r?e:r+"."+e,l=i.setObservableProperties(o[e],t,s,n);a[e]=i.getDescriptor(l,s,n)}else o[e]=t}),Object.defineProperties(o,a),o}return t},t.initializeDataSources=function(t,r,n,i,o,a){var s=this,l={};(a||[]).forEach(function(a){var u=e.Data.DataSource.createDataSource(a,r,i,n);o&&(t[a.id].dispose(),t[a.id]=new DevExpress.data.DataSource([{}]),t[a.id].load().then(function(){t[a.id].dispose(),t[a.id]=u})),l[a.id]=s.getDescriptor(u,a.id,[a.id])}),o||Object.defineProperties(t,l)},t}();e.Model=t}(t||(t={}));var t;!function(e){"use strict";var t=function(){function t(){}return t.decorate=function(e,t,r,n){var i,o=this,a=function(e){r.isCalculating&&n.unshift(e)},s=function(e){var t=n[0]||"NonInspected",r=o.modelTrace[t]||[];o.modelTrace[t]=r.concat(e)},l=function(e){if(void 0===e&&(e=!0),r.isCalculating){var t=o.modelTrace[n[0]];n.shift(),s(t)}},u=e[r.property];e[r.property]=function(e){return a(t),r.isCalculating||s([t]),i=u(e),l(),i}},t.init=function(){var t=this;this.modelTrace={},e.Model.onCustomizeProperties=function(e){var r=[];e.forEach(function(e){var n=e.modelProperty.function?"value":"get",i={property:n,isCalculating:!!e.modelProperty.function||!!e.modelProperty.getter};t.decorate(e.propertyDescriptor,e.modelProperty.name,i,r)})}},t.cancel=function(){this.modelTrace=void 0,e.Model.onCustomizeProperties=void 0},t.revertTrace=function(e){void 0===e&&(e=!0);var t={};return $.each(this.modelTrace,function(r,n){n.forEach(function(n){t[n]=t[n]||[],(e||"NonInspected"!==r)&&t[n].push(r)})}),t},t}();e.ModelTracer=t}(t||(t={}));var t;!function(e){"use strict";var t=function(){function t(e){this._application=e,this.alreadyLoadedModules=[]}return t.prototype._initModule=function(e){var t=this;e&&(e.functions&&this._application&&e.functions.forEach(function(e){t._application.functions[e.id]=e.func}),e.createModule&&e.createModule(this._application))},t.prototype.insertFingerprint=function(e){if(t.resourceFingerprint){var r=e.lastIndexOf(".");return e.substring(0,r)+t.resourceFingerprint+e.substring(r)}return e},t.prototype.initModules=function(t){var r=this,n=$.Deferred();if(t){var i=this.getModulesToInit(t).map(function(t){var i=$.Deferred(),o=t.src||t,a="modules"+(e.Version?"@"+e.Version:"")+"/"+o+"/distr",s=System.import(a+"/module.config.js");return r.alreadyLoadedModules.push(o),s.catch(function(e){var t=r.alreadyLoadedModules.indexOf(o);r.alreadyLoadedModules.splice(t),n.reject(e)}),s.then(function(){return System.import(a+"/module.js")}).then(function(e){r._initModule(e.default),i.resolve()}),i});$.when.apply($,i).done(function(){n.resolve()})}else n.resolve();return n.promise()},t.prototype.getModulesToInit=function(e){var t=this;return e.filter(function(e){return e&&t.alreadyLoadedModules.indexOf(e.src||e)===-1})},t}();e.ModulesLoader=t;var r=function(){function e(e){this._application=e}return e}();e.ModuleBase=r}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){"use strict";function t(e){return"string"==typeof e||e instanceof String}function r(e){if(null==e||"function"!=typeof e.then)return!1;var t=String($.Deferred().then),r=String(e.then);return t===r}e.isString=t,e.isPromise=r}(t=e.Cast||(e.Cast={}))}(t=e.Utils||(e.Utils={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";function r(e,t){return e?function(r){var n=e(r);return t(n)}:t}function n(e,t){var r=document.createElement("div");for(r.innerHTML=t;r.children.length;){var n=r.children[0];e.appendChild(n)}}function i(e){var t={closeOnOutsideClick:!0,closeOnSwipe:!1,contentTemplate:function(){return $("<div>").addClass("dx-toast-message").html(e).css("word-break","break-word")}};DevExpress.ui.notify(t,"error",3e4)}function o(t){if(t)if("string"==typeof t)console.error(t),i(t);else if(t instanceof e.Logic.LogicError||t instanceof e.Logic.DataLogicError){var r=t.message,n=t.message;t.callerInfo&&t.callerInfo.callerType&&t.callerInfo.callerId&&(r='Error occurred when trying to evaluate the "'+t.callerInfo.callerId+'" '+t.callerInfo.callerType+":\n "+r,n='Error occurred when trying to evaluate the "'+t.callerInfo.callerId+'" '+t.callerInfo.callerType+":<br> "+n),console.groupCollapsed(r),console.log("Operation:",t.operation),console.log("Logic:",t.source),console.groupEnd(),i(n)}else{var r=t.message,n=t.message;t.initiatorId&&(r+="\nInitiated by '"+t.initiatorId+"'",r+="<br>Initiated by '"+t.initiatorId+"'"),console.error(r),i(n)}}function a(t){return $.ajax(t).then(function(t,r,n){return t instanceof Document&&(t=e.Stores.Utils.convertData(n,"xml")),t},function(r,n,i){var o=$.Deferred();if("parsererror"===n){var a=e.Stores.Utils.convertData(r,t.dataType);a&&o.resolve(a)}if("resolved"!==o.state()){var s=u(t,r,n,i);o.reject(s)}return o})}function s(e,t){var r=t||"your service";return"Requesting "+r+" raises an error ("+e+")."}function l(e,t,r,n){var i,o=e&&e.url;return i="parsererror"===r?s(f.parsererror,o):"timeout"===r?s(f.timeout,o):n?s(n,o):"error"===r?s(f.error,o):s('Unknown error with status "'+r+'"',o)}function u(t,r,n,i){var o=l(t,r,n,i),a=new Error(o);return a.httpStatus=r.status,a.statusText=n,a.response=r.response||e.Stores.Utils.convertData(r,t.dataType)||r.responseText,a}function c(e){var t=Object.keys(f).filter(function(t){return f[t]===e.message})[0],r=t?null:e.message;e.statusText=t,e.message=l(null,null,t,r),"function"!=typeof e.errorDetails&&(e.response=e.errorDetails)}function d(e){var t,r;if(e instanceof Date)return new Date(e.getTime());if(e&&e instanceof Object){r=Array.isArray(e)?[]:{};for(t in e)e.hasOwnProperty(t)&&(r[t]=d(e[t]));return r}return e}function p(e){if(!e)return new ArrayBuffer(0);"string"!=typeof e&&(e=JSON.stringify(e));for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=e.length,i=0;i<n;i++)r[i]=e.charCodeAt(i);return t}t.continueFunc=r,t.appendHtml=n,t.showError=o,t.ajax=a;var f={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};t.getDataErrorMessage=l,t.getDataError=u,t.correctODataError=c,t.clone=d,t.toArrayBuffer=p}(t=e.Utils||(e.Utils={}))}(t||(t={}));var t;!function(e){"use strict";function t(e){return e.replace(/\[/g,".").replace(/\]/g,"")}function r(e,t,r,o){return n(e,t,r,o,function(e,t){return i(t)(e)})}function n(e,t,r,n,i){var o,a,s,l,u="="===e.charAt(0),c="!"===e.charAt(0),d=c||u?e.substring(1):e;return u?(o=n.createFunctionCompiler("return ("+d+")"),ko.computed(function(){var e,n=!0;return o.run(t,r).done(function(t){e=t,n=!1}),e})):(a=d.indexOf("."),s=d.substring(0,a)||d,l=a===-1?"":d.substring(a+1),t[s]?i(t[s],l,c,e):e)}function i(e,r){if(!e)return function(e){return ko.unwrap(e)};e=t(e);var n=e.split(".");return function(t){var i=ko.unwrap(t);return n.forEach(function(o,a){if(!i)return!1;"undefined"!=typeof i[o]||i.hasOwnProperty(o)||console.error('Binding path "%s" is incorrect for %o',r||e,t);var s=a!==n.length-1?ko.unwrap(i[o]):i[o];i=s}),ko.unwrap(i)}}function o(e,t){void 0===t&&(t=window.location.search);for(var r=t.substring(1),n=r.split("&"),i=0;i<n.length;i++){var o=n[i].indexOf("="),a=n[i].slice(0,o),s=n[i].slice(o+1);if(a===e)return s}return null}function a(e,t,r,i){return n(e,t,r,i,function(e,t,r,n){return s(e,t,r,n)})}function s(t,r,n,o){var a,s,l,u,c=ko.observable();return r?(u=Object.getOwnPropertyDescriptor(t,r),a=i(r,o),(!u||u.set||u.writable)&&(s=e.compileSetter(r))):a=function(){return t},l=function(){return ko.unwrap(c),n?!a(t):a(t)},ko.computed(s?{read:l,write:function(e){s(t,n?!e:e),c.valueHasMutated()}}:{read:l})}function l(e,t,r){if("string"==typeof e)return e;var n=r||{getValueCallback:function(e,r){return l(e,t,r)}},i=Array.isArray(e),o=i?[]:{};return n.path=n.path||"",$.each(e,function(e,r){if(n.name=e,n.value=r,n.isArray=i,n.owner=o,Array.isArray(r)||$.isPlainObject(r)){var a=n.path;n.path=n.path?n.path+(n.isArray?"["+n.name+"]":"."+n.name):n.name,o[e]=n.getValueCallback(r,n),n.path=a}else{var s=t(n);void 0!==s&&(o[e]=s)}}),o}function u(e){var t=[{symbol:"\r",replacement:"\\r"},{symbol:"\n",replacement:"\\n"}],r=e;return t.forEach(function(e){r=c(r,e)}),r}function c(e,t){var r=e,n=r.indexOf(t.symbol);if(n!==-1)var i=r.slice(0,n),o=r.slice(n+1,r.length),r=c(i+t.replacement+o,t);return r}function d(e,t,r){if(void 0===r&&(r="..."),r.length>t)throw"Incorrect ending length";return e&&e.length>t?e.substr(0,t-r.length)+r:e}function p(e,t,r){return e.split(t).join(r)}function f(e,t){return!(t.length>e.length)&&(t.length===e.length?t===e:e.substr(0,t.length)===t)}function h(e,t){return"string"==typeof e&&"string"==typeof t&&(!(t.length>e.length)&&(t.length===e.length?t===e:1===t.length?e.charAt(e.length-1)===t:e.substr(e.length-t.length,t.length)===t))}function m(e,t){var r=v(e,t);return r>=0?e[r]:null}function v(e,t){if(e)for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function g(e,t){var r,n={};if(e)for(var i in e)i===t?r=e[i]:n[i]=e[i];return{target:r,leftover:n}}function y(e,t){var r={},n={};if(e)for(var i in e)$.inArray(i,t)!==-1?r[i]=e[i]:n[i]=e[i];return{target:r,leftover:n}}function x(e,t){var r=g(e,t);return[r.target,r.leftover]}function b(e,t){var r=y(e,t);return[r.target,r.leftover]}function w(e,t,r){var n={};if(e)for(var i in e)t[i]?n[t[i]]=e[i]:r&&(n[i]=e[i]);return n}function k(e,t,r,n){var i=w(e,t,n)||{};for(var o in i){var a=i[o];i[o]=r[a]||e[o]}return i}function S(e){if("function"==typeof e){if(!e.hasOwnProperty("name")){var t=Function.prototype.toString.call(e),r=I.exec(t);Object.defineProperty(e,"name",{enumerable:!1,writable:!1,value:r&&r[1]||""})}return e.name}}function E(e){var t,r=A.exec(e);if(r)if(r[9]&&r[10]||h(e,"Z")){var n=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&parseInt(r[6],10)||0,r[7]&&1e3*parseFloat(r[7])||0);if(r[9]&&r[10]){var i=60*parseInt(r[9],10)+parseInt(r[10],10);n+=("+"===r[8]?-1:1)*i*6e4}t=new Date(n)}else t=new Date(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&parseInt(r[6],10)||0,r[7]&&1e3*parseFloat(r[7])||0);return t}function C(e){e&&$.each(e,function(t,r){null!==r&&"object"==typeof r?C(r):"string"==typeof r&&(A.test(r)||j.test(r))&&(e[t]=V(e[t]))})}function V(e){return A.test(e)?E(e):j.test(e)?new Date(Date.parse(e)):void 0}function M(e){var t,r=e.indexOf("://"),n=e.indexOf("?",r),i={};if(n>=0){t=e.substring(r+3,n);var o=e.substring(n+1).split("&");o.forEach(function(e){var t,r,n=e.indexOf("=");n<0?i[e]=!0:(t=e.substring(0,n),r=e.substr(n+1),i[t]=r)})}else t=e.substr(r+3);if(window.app&&window.app.instance&&window.app.instance.dxapp){var a=window.app.instance;a.functions.navigateToView(t,i,"master")}else window.xetHandleOpenURL={uri:t,params:i}}function T(e,t,r,n){var i=$("<div/>");i.appendTo($(document.body)),i.dxActionSheet({dataSource:t,visible:!0,title:n||"",showTitle:!!n,showCancelButton:r,usePopover:!0,target:e})}function P(e){function t(e,t){var r=s[e];r?(Array.isArray(r)||(s[e]=r=[r]),r.push(t)):s[e]=t}function r(e){var t,r,n=e.childNodes.length;if(n>0){for(t=0;t<n;t++)if(r=e.childNodes[t],3!==r.nodeType&&4!==r.nodeType)return!1;return!0}return!1}function n(e){var t,r,n=e.childNodes.length;if(1===n)return e.firstChild.nodeValue;if(n>0){for(t="",r=0;r<n;r++)t+=(e.childNodes[r].nodeValue||"").trim();return t}}var i,o,a,s={};if(e.attributes)for(i=0;a=e.attributes[i];i++)f(a.name,"xmlns")||t(a.name,a.value);for(i=0;o=e.childNodes[i];i++)1===o.nodeType&&(r(o)?t(o.nodeName,n(o)):t(o.nodeName,P(o)));return s}function O(e){function t(e){for(var t=r.getElementsByTagName(e),n=t.length;n--;)t[n].parentNode.removeChild(t[n])}var r=document.createElement("div");r.innerHTML=ko.unwrap(e)||"",t("script"),t("iframe");for(var n=r.getElementsByTagName("a"),i=n.length;i--;)n[i].setAttribute("onClick","AppPlayer.defaultLinkClickHandler(event)");return r.innerHTML}function N(t){t.preventDefault(),t.stopPropagation();var r,n,i,o=t.target;!o.href&&o.parentNode&&o.parentNode.href&&(o=o.parentNode),r=o.href,f(r,"javascript:")?(n=r.substr(r.indexOf("javascript:")),i=new Function("event",n),i.apply(t.target,[t])):window.open(r,e.LayoutHelper.linkTarget())}e.getModelValue=r,e.compileGetter=i,e.compileSetter=DevExpress.data.utils.compileSetter,e.getQueryVariable=o,e.wrapModelReference=a,e.propertyVisitor=l;var D=function(){function e(){}return e.valueCallback=function(e,t){var r=t.value;return t.name+": "+r+","},e.arrayValueCallback=function(e,t){return t.value+","},e.makeString=function(t,r){void 0===r&&(r=!1);var n="",i={getValueCallback:function(t,i){n+=$.isArray(t)?r?"["+e.makeString(t,!0)+"],":i.name+": ["+e.makeString(t,!0)+"],":r?"{"+e.makeString(t,!1)+"},":i.name+": {"+e.makeString(t,!1)+"},"}};return r?l(t,function(t){n+=e.arrayValueCallback(n,t)},i):l(t,function(t){n+=e.valueCallback(n,t)},i),u(n.slice(0,-1))},e}();e.BindingStringMaker=D,e.escapeTransferCharacters=u,e.escapeCharacterWithRule=c,e.shorten=d,e.replaceAll=p,e.startsWith=f,e.endsWith=h,String.prototype.startsWith=function(e){return f(this,e)},String.prototype.endsWith=function(e){return h(this,e)},e.findInArray=m,e.indexInArray=v,e.extract=g,e.extractMany=y,e.destruct=x,e.destructMany=b,e.remap=w,e.remapWithValues=k;var I=/^\s*function\s+([^\(\s]*)\s*/;e.functionName=S;var A=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2}):?([0-9]{2}))?/;e.parseISO8601=E;var j=/\d{2}\s\w{3}\s\d{4}\s\d{2}:\d{2}:\d{2}\s.*$/;e.transformISODates=C,e.parseDate=V;var _=function(){function e(e){this.app=e}return e.prototype.put=function(e,t,r){var n=this.getKey(e,t);void 0===r||null===r?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))},e.prototype.get=function(e,t){var r=this.getKey(e,t),n=localStorage.getItem(r);return n?JSON.parse(n):void 0},e.prototype.getKey=function(e,t){return this.getAppUserKey()+(e||"global")+"-"+t},e.prototype.getAppUserKey=function(){var e=this.app.id?this.app.id:"allapps";return"xet-ls-"+e+"-"},e}();e.LocalStorageWrapper=_,e.handleOpenURL=M,e.showActionPopover=T,e.xmlToJs=P,e.escapeHtml=O,e.defaultLinkClickHandler=N}(t||(t={}));var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.attachedProperties=[]}return e}();e.Component=t;var n=function(e){function t(){e.apply(this,arguments),this.components=[]}return r(t,e),t.prototype.layoutChildren=function(){},t}(t);e.Container=n;var i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.layoutChildren=function(){},t}(n);e.Row=i}(t=e.Layout||(e.Layout={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=DevExpress.data,n=function(){function t(){}return t.initDataObservables=function(t,r){if(!$.isPlainObject(t))return t;var n={},i={};return $.each(t,function(t,n){var o=e.Model.getDescriptor(n,t,r);i[t]=o}),Object.defineProperties(n,i),n},t.createDataSource=function(t,n,i,o){var a=this,s=o,l=$.extend({},n,{callerType:"datasource initializer",callerId:t.id}),u=$.extend({},n),c={callerType:"calculated field",callerId:""},d=e.Model.createLinkedModel(t,l,c,o.functions);"string"==typeof d.store?d.store=i[t.store]:"object"==typeof d.store&&(d.store=e.Stores.StoreFactory.createStore(d.store,s));var p;t.observables&&t.observables.length&&(p=e.Utils.continueFunc(p,function(e){return a.initDataObservables(e,t.observables)})),t.calculatedFields&&t.calculatedFields.length&&(p=e.Utils.continueFunc(p,function(r){return e.Model.createModelCore({model:t.calculatedFields},o,$.extend({},{$data:r},u),c.callerId,r),delete r.dispose,r}),d.store&&"function"==typeof d.store.on&&(d.store.on("updating",function(e,r){t.calculatedFields.forEach(function(e){delete r[e.name]})}),d.store.on("updated",function(r,n){e.Model.createModelCore({model:t.calculatedFields},o,$.extend({},{$data:n},u),c.callerId,n),delete n.dispose}))),p&&(d.map=p);var f=new r.DataSource(d);f.on("customizeLoadResult",function(r){if(r.data&&!Array.isArray(r.data)){var n=JSON.stringify(r.data),i=e.shorten(n,20),o="The "+t.id+' data source returned "'+i+'", whereas an array was expected. Data binding may be performed incorrectly.';e.Utils.showError(o)}}),ko.computed(function(){return d.filter}).subscribe(function(e){f.filter(e),f._xetLoadedAtLeastOnce&&f.load()}),ko.computed(function(){return d.sort}).subscribe(function(e){f.sort(e),f._xetLoadedAtLeastOnce&&f.load()});var h=f.load.bind(f);return f.load=function(){return f._xetLoadedAtLeastOnce=!0,h()},d.loadOptions&&f.on("customizeStoreLoadOptions",function(e){console.warn("Deprecated option. Use store overriding instead overriding url in loadOptions."),e.storeLoadOptions.urlOverride=d.loadOptions.url}),f._calculatedFields=t.calculatedFields,f._refreshOnViewShown=t.refreshOnViewShown,f._monitor=t.monitor,f},t}();t.DataSource=n}(t=e.Data||(e.Data={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var n=DevExpress.ui.dialog;!function(e){e[e.Return=0]="Return",e[e.Break=1]="Break",e[e.Continue=2]="Continue"}(t.Flow||(t.Flow={}));var i=t.Flow,o=function(e){function t(t,r,n,i){e.call(this),this.message=t,this.operation=r,this.source=n,this.callerInfo=i}return r(t,e),t}(Error);t.LogicError=o;var a=function(e){function t(t,r,n,i){e.call(this),this.data=t,this.operation=r,this.source=n,this.callerInfo=i,this.message=t.responseText||t.message||"Unknown data error"}return r(t,e),t}(Error);t.DataLogicError=a;var s=function(){function r(){}return r.eval=function(e,t){var r=[],n=[];$.each(t,function(e,t){r.push(e),n.push(t)}),r.push("return ("+(e.startsWith("=")?e.substr(1):e)+")");var i=Function.apply(null,r);return i.apply(null,n)},r.run=function(e,r,n){function s(r){return c===e.length-1||r&&r.flow in i?t.trivialPromise(r):(c++,u())}function l(r){var n;return n=r instanceof Error?r:r.dataError?new a(r.data,r.op||e[c]):new o(r.data||r,r.op||e[c]),t.rejectPromise(n)}function u(){var t=e[c];return t.run(r,n).then(s,l)}if(!e||0===e.length)return t.trivialPromise();var c=0;try{return u()}catch(r){return t.rejectPromise(new o(r.message||r,e[c]))}},r.prototype.run=function(e,t){throw Error("Not implemented")},r.fromJson=function(e){if(e instanceof r)return e;var t=r.create(e._type);return r.restoreProperties(e,t),t},r.create=function(t){return new e.Logic[t]},r.restoreProperties=function(e,t){return $.each(e,function(e,n){"_type"!==e&&(Array.isArray(n)?t[e]=n.map(function(e){return"object"==typeof e&&e&&e._type?r.fromJson(e):r.restoreProperties(e,Array.isArray(e)?[]:{})}):n&&"object"==typeof n?n&&n._type?t[e]=r.fromJson(n):t[e]=r.restoreProperties(n,{}):t[e]=n)}),t},r.prototype.toString=function(){return e.functionName(this.constructor)},r}();t.Operation=s;var l=function(e){function n(t,r){if(e.call(this),this.returnValue=null,this.returnExpr="",t in i)this.flow=t,this.returnValue=r;else if(t){var n=t;"undefined"!=typeof n.flow&&(this.flow=n.flow),"undefined"!=typeof n.returnValue&&(this.returnValue=n.returnValue),"undefined"!=typeof n.returnExpr&&(this.returnExpr=n.returnExpr)}}return r(n,e),n.prototype.run=function(e,r){var n={flow:this.flow,value:void 0};return this.flow===i.Return&&(this.returnExpr?n.value=e.getValue(this.returnExpr):n.value=this.returnValue),t.trivialPromise(n)},n}(s);t.Event=l;var u=function(e){function n(t){var r=this;e.call(this),this.valueExpr="",this.leftExpr="",t&&$.each(t,function(e,t){r[e]=t||r[e]})}return r(n,e),n.prototype.run=function(e,r){var n;if(this.leftExpr)n=this.leftExpr;else{if(!this.variableName)return t.rejectPromise("SetValue: leftExpr must be defined");console.warn("SetValue: variableName and pathExpr are obsolete. Use leftExpr instead"),n=this.pathExpr?this.variableName+"["+this.pathExpr+"]":this.variableName}if(""===this.valueExpr)return t.rejectPromise("SetValue: valueExpr must be defined");var i=e.getValue(this.valueExpr);return e.setValue(n,i),t.trivialPromise()},n}(s);t.SetValue=u;var c=function(e){function n(t){e.call(this),this.variableName="",this.storeExpr="",this.storeId="",t&&(this.variableName=t.variableName,this.storeId=t.storeId)}return r(n,e),n.prototype.run=function(e,r){var n=this.storeExpr?e.getValue(this.storeExpr):this.storeId,i=r.getDataStoreConfig(n),o={};return i.fields&&i.fields.forEach(function(e){o[e.name]=void 0}),e.add(this.variableName,o),t.trivialPromise()},n}(s);t.Create=c;var d=function(e){function n(t){e.call(this),this.variableName="",this.value=null,this.expression="",t&&(this.variableName=t.variableName,t.expr?this.expression=t.expr:this.value=t.value)}return r(n,e),n.prototype.run=function(e,r){var n=e.getValue(this.variableName),i=this.expression?e.getValue(this.expression):this.value;return n.push(i),t.trivialPromise()},n}(s);t.AddToList=d;var p=function(e){function n(t){e.call(this),this.variableName="",this.valueExpr="",this.indexExpr="",$.extend(this,t)}return r(n,e),n.prototype.run=function(e,r){if(!this.variableName)return t.rejectPromise("invalid variable name");if(!this.valueExpr)return t.rejectPromise("invalid value expression");var n=e.getValue(this.variableName);if(!$.isArray(n))return t.rejectPromise("variable should be array");var i=e.getValue(this.valueExpr),o=this.indexExpr?e.getValue(this.indexExpr):void 0;return o>=0?(n.splice(o,0,i),t.trivialPromise()):void 0===o?(n.push(i),t.trivialPromise()):t.rejectPromise("InsertToList: index should be 0 or greater than 0")},n}(s);t.InsertToList=p;var f=function(n){function i(e){var t=this;n.call(this),e&&$.each(e,function(e,r){t[e]=r})}return r(i,n),i.prototype.run=function(r,n){var i=this,o=r.getValue(this.listExpr);if(!Array.isArray(o))return t.rejectPromise("listExpr must be evaluated to list");if(!this.predicateExpr)return t.rejectPromise("predicate expression is not defined");if(!r.isDefined(this.resultVariableExpr))return t.rejectPromise("invalid result variable expression");var a=r.clone();a.add("$item");var s=e.indexInArray(o,function(e){return a.setValue("$item",e),a.getValue(i.predicateExpr)});return r.setValue(this.resultVariableExpr,s),t.trivialPromise()},i}(s);t.IndexInList=f;var h=function(n){function i(e){var t=this;n.call(this),e&&$.each(e,function(e,r){t[e]=r})}return r(i,n),i.prototype.run=function(r,n){var i=this,o=r.getValue(this.listExpr);if(!Array.isArray(o))return t.rejectPromise("listExpr must be evaluated to list");if(!this.predicateExpr)return t.rejectPromise("predicate expression is not defined");if(!r.isDefined(this.resultVariableExpr))return t.rejectPromise("invalid result variable expression");var a=r.clone();a.add("$item");var s=e.findInArray(o,function(e){return a.setValue("$item",e),a.getValue(i.predicateExpr)});return r.setValue(this.resultVariableExpr,s),t.trivialPromise()},i}(s);t.FindInList=h;var m=function(n){function i(e){var t=this;n.call(this),e&&$.each(e,function(e,r){t[e]=r})}return r(i,n),i.prototype.run=function(r,n){this.processObsoleteOptions();var i=r.getValue(this.listExpr);if(!Array.isArray(i))return t.rejectPromise("listExpr must be evaluated to list");var o=r.getValue(this.valueExpr),a=JSON.stringify(o),s=e.indexInArray(i,function(e){return JSON.stringify(e)===a});return s>=0&&i.splice(s,1),t.trivialPromise()},i.prototype.processObsoleteOptions=function(){void 0===this.listExpr&&void 0!==this.variableName&&(console.warn("variableName is obsolete. Use listExpr instead"),this.listExpr=this.variableName)},i}(s);t.RemoveFromListByValue=m;var v=function(e){function n(t){var r=this;e.call(this),t&&$.each(t,function(e,t){r[e]=t})}return r(n,e),n.prototype.run=function(e,r){this.processObsoleteOptions();var n=e.getValue(this.listExpr);if(!Array.isArray(n))return t.rejectPromise("listExpr must be evaluated to list");var i=e.getValue(this.indexExpr);return i<0?t.rejectPromise("indexExpr must be evaluated to positive number"):(n.splice(i,1),t.trivialPromise())},n.prototype.processObsoleteOptions=function(){void 0===this.listExpr&&void 0!==this.variableName&&(console.warn("variableName is obsolete. Use listExpr instead"),this.listExpr=this.variableName),void 0===this.indexExpr&&void 0!==this.index&&(console.warn("index is obsolete. Use indexExpr instead"),this.indexExpr=this.index.toString())},n}(s);t.RemoveFromListByIndex=v;var g=function(e){function n(t){e.call(this),this.expr="",this.resultVariableName="",t&&(this.expr=t.expr,this.resultVariableName=t.resultVariableName)}return r(n,e),n.prototype.run=function(e,r){var n=e.getValue(this.expr),i=Array.isArray(n)?n.length:Object.keys(n).length;return e.setValue(this.resultVariableName,i),t.trivialPromise()},n}(s);t.CountList=g,function(e){e[e.Min=0]="Min",e[e.Max=1]="Max",e[e.Sum=2]="Sum",e[e.Average=3]="Average"}(t.AggregateType||(t.AggregateType={}));var y=t.AggregateType,x=function(e){function n(t){var r=this;e.call(this),this.type=y.Sum,this.variableName="",this.resultVariableName="",this.propertyName="",this.seed=0,t&&$.each(t,function(e,t){r[e]=t})}return r(n,e),n.prototype.run=function(e,r){var n,i,o,a=this,s=function(e){
return a.propertyName?e[a.propertyName]:e},l=e.getValue(this.variableName);if(!e.isDefined(this.resultVariableName))return t.rejectPromise("invalid resultVariableName");if(0===l.length)return e.setValue(this.resultVariableName,null),t.trivialPromise();switch(this.type){case y.Min:n=function(e,t){return t<e?t:e},i=function(e,t){return e};break;case y.Max:n=function(e,t){return t>e?t:e},i=function(e,t){return e};break;case y.Sum:n=function(e,t){return e+t},i=function(e,t){return e};break;case y.Average:n=function(e,t){return e+t},i=function(e,t){return e/t.length};break;default:return t.rejectPromise("invalid aggregate function")}return o=this.seed,l.forEach(function(e){o=n(o,s(e))}),e.setValue(this.resultVariableName,i(o,l)),t.trivialPromise()},n}(s);t.AggregateList=x;var b=function(e){function n(t){var r=this;e.call(this),this.variableName="",this.desc=!1,this.propertyName="",t&&$.each(t,function(e,t){return r[e]=t})}return r(n,e),n.prototype.run=function(e,r){var n,i=this,o=e.getValue(this.variableName);return this.propertyName?n=this.desc?function(e,t){return t[i.propertyName]-e[i.propertyName]}:function(e,t){return e[i.propertyName]-t[i.propertyName]}:this.desc&&(n=function(e,t){return t-e}),o.sort(n),t.trivialPromise()},n}(s);t.SortList=b;var w=function(e){function n(t){var r=this;e.call(this),this.valueExpr="",this.indexName="$loopIndex",this.valueName="$loopValue",this.calls=[],t&&$.each(t,function(e,t){void 0!==t&&(r[e]=t)})}return r(n,e),n.prototype.run=function(e,r){var n=this,o=e.getValue(this.valueExpr);if("object"!=typeof o)return t.rejectPromise("Passed value should be array or object");var a=Array.isArray(o),l=a?null:Object.keys(o),u=$.extend(a?[]:{},o),c=0,d=a?o.length:l.length;if(0===d)return t.trivialPromise();var p=e.clone();p.add(this.indexName),p.add(this.valueName);var f=$.Deferred(),h=function(){if(c>=d)return void f.resolve();var e=a?c:l[c];p.setValue(n.indexName,e),p.setValue(n.valueName,u[e]),s.run(n.calls,p,r).done(function(e){if(void 0!==e){if(e.flow===i.Break)return void f.resolve();if(e.flow===i.Return)return void f.resolve(e)}c++,h()}).fail(function(e){f.reject(e)})};return h(),f.promise()},n}(s);t.Loop=w;var k={indexName:"$loopIndex",startIndexIncluded:0,endIndexExcluded:0,calls:[]},S=function(e){function t(t){e.call(this),$.extend(this,k,t)}return r(t,e),t.prototype.run=function(e,t){var r=this,n=parseInt(e.getValue(this.startIndexIncluded),10),o=parseInt(e.getValue(this.endIndexExcluded),10),a=n<o?1:-1,l=e.clone();l.add(this.indexName);var u=$.Deferred(),c=n,d=function(){return c===o?void u.resolve():(l.setValue(r.indexName,c),void s.run(r.calls,l,t).done(function(e){if(void 0!==e){if(e.flow===i.Break)return void u.resolve();if(e.flow===i.Return)return void u.resolve(e)}c+=a,d()}).fail(function(e){u.reject(e)}))};return d(),u.promise()},t}(s);t.ForLoop=S;var E=function(e){function n(t){e.call(this),this.expr="",this.cases=[],this.otherwise=[],t&&(this.expr=t.expr||this.expr,this.cases=t.cases||this.cases,this.otherwise=t.otherwise||this.otherwise)}return r(n,e),n.prototype.run=function(e,r){var n=this,i=e.getValue(this.expr),o=null;return this.cases.some(function(t){var a=n.getOperatorAction(t.operator||"=="),l=e.getValue(t.valueExpr);return!!a(i,l)&&(o=s.run(t.calls,e,r),!0)}),!o&&this.otherwise.length&&(o=s.run(this.otherwise,e,r)),o||t.trivialPromise()},n.prototype.getOperatorAction=function(e){return n.operators.filter(function(t){return t.value===e})[0].action},n.operators=[{value:"==",title:"== (equals)",isBinary:!0,action:function(e,t){return e===t}},{value:"!=",title:"!= (not equals)",isBinary:!0,action:function(e,t){return e!==t}},{value:">=",title:">=",isBinary:!0,action:function(e,t){return e>=t}},{value:">",title:">",isBinary:!0,action:function(e,t){return e>t}},{value:"<=",title:"<=",isBinary:!0,action:function(e,t){return e<=t}},{value:"<",title:"<",isBinary:!0,action:function(e,t){return e<t}},{value:"is nothing",title:"is nothing",isBinary:!1,action:function(e,t){return!e}},{value:"is not nothing",title:"is not nothing",isBinary:!1,action:function(e,t){return!!e}}],n}(s);t.Switch=E,function(e){e[e.First=0]="First",e[e.All=1]="All"}(t.RetrieveType||(t.RetrieveType={}));var C=t.RetrieveType,V=function(e){function t(t){e.call(this),this.type=C.All,this.storeId="",this.variableName="",this.errorVariableName="",t&&(this.type=t.type,this.variableName=t.variableName,this.storeId=t.storeId)}return r(t,e),t.prototype.run=function(e,t){var r=this,n=$.Deferred(),i=function(t){r.errorVariableName?(e.setValue(r.errorVariableName,t),n.resolve()):n.reject({op:r,data:t,dataError:!0})};switch(this.type){case C.All:t.load(this.storeId).then(function(t){e.setValue(r.variableName,t),n.resolve()},i);break;case C.First:default:t.load(this.storeId,{take:1}).then(function(t){e.setValue(r.variableName,t&&t.length>0?t[0]:null),n.resolve()},i)}return n.promise()},t}(s);t.RetrieveObject=V;var M=function(e){function n(t){e.call(this),this.variableName="",this.errorVariableName="",this.properties=[],t&&(t.variableName&&(this.variableName=t.variableName),t.properties&&(this.properties=t.properties))}return r(n,e),n.prototype.run=function(e,r){var n=this,i=$.Deferred(),o=e.get(this.variableName),a=o.type,s=r.keyOf(a,o);return s?r.byKey(a,s).then(function(t){n.properties&&n.properties.length>0?n.properties.forEach(function(e){o.value[e]=t[e]}):e.setValue(n.variableName,t),i.resolve()},function(t){n.errorVariableName?(e.setValue(n.errorVariableName,t),i.resolve()):i.reject({op:n,data:t,dataError:!0})}):t.rejectPromise({op:this,data:"Object in '"+this.variableName+"' doesn't have a key. Probably, is has not been saved to a store.",dataError:!0})},n}(s);t.ResetObject=M;var T=function(e){function n(t){e.call(this),this.variableName="",this.resultVariableName="",t&&$.extend(this,t)}return r(n,e),n.prototype.run=function(e,r){var n=e.getValue(this.variableName),i=Array.isArray(n)?[]:{};return e.setValue(this.resultVariableName,$.extend(i,n)),t.trivialPromise()},n}(s);t.CloneObject=T;var P=function(e){function n(t){var r=this;e.call(this),this.viewId="",this.viewIdExpr="",this.viewParametersExpr="",t&&$.each(t,function(e,t){r[e]=t})}return r(n,e),n.prototype.run=function(e,r){var n=this.viewIdExpr?e.getValue(this.viewIdExpr):this.viewId,i={},o=e.getValueOrDefault("$model.pane");return this.viewParameters?this.viewParameters.forEach(function(t){var r=e.getValue(t.valueExpr);i[t.name]=r}):this.viewParametersExpr&&(i=e.getValue(this.viewParametersExpr)),r.navigateToView(n,i,o),t.trivialPromise()},n}(s);t.NavigateToView=P;var O=function(e){function t(t){var r=this;e.call(this),this.objectExpr="",this.storeId="",this.keyExpr="",this.errorVariableName="",t&&$.each(t,function(e,t){r[e]=t})}return r(t,e),t.prototype.run=function(e,t){var r=this,n=$.Deferred(),i=e.getValue(this.objectExpr),o=this.keyExpr?e.getValue(this.keyExpr):void 0;return t.save(i,this.storeId,o).then(function(e){return n.resolve(e)},function(t){r.errorVariableName?(e.setValue(r.errorVariableName,t),n.resolve()):n.reject({op:r,data:t,dataError:!0})}),n.promise()},t}(s);t.Save=O;var N=function(e){function t(t){var r=this;e.call(this),this.objectExpr="",this.storeId="",this.storeExpr="",this.errorVariableName="",t&&$.each(t,function(e,t){r[e]=t})}return r(t,e),t.prototype.run=function(e,t){var r=this,n=$.Deferred(),i=e.getValue(this.objectExpr),o=this.storeExpr?e.getValue(this.storeExpr):this.storeId;return t.insert(i,o).then(function(e){return n.resolve(e)},function(t){r.errorVariableName?(e.setValue(r.errorVariableName,t),n.resolve()):n.reject({op:r,data:t,dataError:!0})}),n.promise()},t}(s);t.Insert=N;var D=function(e){function n(t){var r=this;e.call(this),this.storeId="",this.storeExpr="",t&&$.each(t,function(e,t){r[e]=t})}return r(n,e),n.prototype.run=function(e,r){var n=this.storeExpr?e.getValue(this.storeExpr):this.storeId;return r.refresh(n),t.trivialPromise()},n}(s);t.Refresh=D;var I=function(n){function i(e){var t=this;n.call(this),this.url=null,this.method="get",this.dataExpr=null,this.variableName=null,this.errorVariableName=null,this.dataType=null,this.cacheResponse=!1,this.headersExpr=null,this.timeout=null,this.options=null,this.withCredentials=!1,e&&$.each(e,function(e,r){t[e]=r})}return r(i,n),i.prototype.run=function(r,n){var i=this;if(!this.url)return t.rejectPromise({op:this,data:"no URL provided",dataError:!0});n.busy();var o=$.extend({},{url:r.evalAutoExpression(this.url),data:this.dataExpr?r.getValue(this.dataExpr):void 0,dataType:this.dataType,type:this.method?this.method.toUpperCase():"POST",cache:this.cacheResponse,headers:this.headersExpr?r.getValue(this.headersExpr):{},timeout:$.isNumeric(this.timeout)?this.timeout:void 0,xhrFields:{withCredentials:this.withCredentials}},this.options);return e.Utils.ajax(o).then(function(e){i.variableName&&r.setValue(i.variableName,e)},function(e){var t=$.Deferred();return i.errorVariableName?(r.setValue(i.errorVariableName,e),t.resolve()):t.reject({op:i,data:e,dataError:!0}),t}).always(n.available)},i.methods=[{name:"get",value:"GET"},{name:"post",value:"POST"},{name:"delete",value:"DELETE"},{name:"put",value:"PUT"},{name:"head",value:"HEAD"},{name:"options",value:"OPTIONS"},{name:"merge",value:"MERGE"},{name:"patch",value:"PATCH"}],i}(s);t.SendRequest=I;var A=function(e){function t(t){e.call(this),this.objectOrKeyExpr="",this.storeId="",this.errorVariableName="",t&&(this.objectOrKeyExpr=t.objectOrKeyExpr||"",this.storeId=t.storeId||"")}return r(t,e),t.prototype.run=function(e,t){var r=this,n=$.Deferred(),i=e.getValue(this.objectOrKeyExpr);return t.delete(i,this.storeId).then(function(e){return n.resolve(e)},function(t){r.errorVariableName?(e.setValue(r.errorVariableName,t),n.resolve()):n.reject({op:r,data:t,dataError:!0})}),n.promise()},t}(s);t.Delete=A;var j=function(e){function n(){e.apply(this,arguments)}return r(n,e),n.prototype.run=function(e,r){return r.back(),t.trivialPromise()},n}(s);t.NavigateBack=j;var _=function(e){function i(t){e.call(this),this.yesNext=[],this.noNext=[],this.message=null,this.title=null,t&&(this.yesNext=t.yesNext,this.noNext=t.noNext,this.message=t.message,this.title=t.title)}return r(i,e),i.prototype.run=function(e,r){var i=this,o=e.evalAutoExpression(this.message),a=e.evalAutoExpression(this.title);return n.confirm(o,a).then(function(n){var o=n?i.yesNext:i.noNext;return o&&o.length>0?s.run(o,e,r):t.trivialPromise()})},i}(s);t.ShowConfirmDialog=_;var L=function(e){function i(t){e.call(this),this.message=null,this.title=null,t&&(this.message=t.message,this.title=t.title)}return r(i,e),i.prototype.run=function(e,r){var i=e.evalAutoExpression(this.message),o=e.evalAutoExpression(this.title);return n.alert(i,o).then(function(){return t.trivialPromise()})},i}(s);t.ShowAlert=L;var R=function(n){function i(e){n.call(this),this.url="",this.sameWindow=!1,e&&(this.url=e.url)}return r(i,n),i.prototype.run=function(r,n){var i=r.evalAutoExpression(this.url);return"desktop"===e.LayoutHelper.getDeviceType()?this.sameWindow?document.location.href=i:window.open(i,"_blank"):window.open(i,"_system"),t.trivialPromise()},i}(s);t.ShowWebPage=R;var F=function(n){function i(e){n.call(this),this.resultVariableName="",e&&(this.resultVariableName=e.resultVariableName)}return r(i,n),i.prototype.run=function(r,n){if(!r.isDefined(this.resultVariableName))return t.rejectPromise("GetDeviceType: variable '"+this.resultVariableName+"' does not exist");var i=e.LayoutHelper.getDeviceType();return r.setValue(this.resultVariableName,i),t.trivialPromise()},i}(s);t.GetDeviceType=F;var B=function(e){function n(t){e.call(this),this.variableName="",this.format="ddMMMM",this.resultVariableName="",t&&(this.variableName=t.variableName,this.format=t.format,this.resultVariableName=t.resultVariableName)}return r(n,e),n.prototype.run=function(e,r){if(!e.isDefined(this.resultVariableName))return t.rejectPromise("FormatDateTime: variable '"+this.resultVariableName+"' does not exist");var n=e.getValue(this.variableName);return e.setValue(this.resultVariableName,Globalize.format(n,this.format)),t.trivialPromise()},n.formats=["HH:mm:ss","h:mm:ss","yyyy-MM-dd","MM/dd/yyyy","dd.MM.yyyy","yyyy-MM-dd HH:mm:ss","dd.MM.yyyy HH:mm:ss","MM/dd/yyyy h:mm:ss"],n}(s);t.FormatDateTime=B;var H=function(n){function i(e){n.call(this),this.variableName="",this.resultVariableName="",e&&(this.variableName=e.variableName,this.resultVariableName=e.resultVariableName)}return r(i,n),i.prototype.run=function(r,n){var i=r.getValue(this.variableName);return r.setValue(this.resultVariableName,e.parseDate(i)),t.trivialPromise()},i}(s);t.ParseDateTime=H;var U=function(n){function i(e){n.call(this),this.variableName="",this.resultVariableName="",e&&(this.variableName=e.variableName,this.resultVariableName=e.resultVariableName)}return r(i,n),i.prototype.run=function(r,n){if(!this.variableName||!r.isDefined(this.variableName))return t.rejectPromise("XmlToJs: variable '"+this.variableName+"' does not exist");if(!this.resultVariableName||!r.isDefined(this.resultVariableName))return t.rejectPromise("XmlToJs: result variable '"+this.resultVariableName+"' does not exist");var i,o=r.getValue(this.variableName);try{i=$.isXMLDoc(o)?o:$.parseXML(o),r.setValue(this.resultVariableName,e.xmlToJs(i.documentElement))}catch(e){r.setValue(this.resultVariableName,{})}return t.trivialPromise()},i}(s);t.XmlToJs=U;var G=function(){function e(){}return e}();t.CallParam=G;var Y=function(e){function n(t){e.call(this),this.functionName="",this.resultVariableName="",this.params=[],t&&(this.functionName=t.functionName,this.resultVariableName=t.resultVariableName||"",this.params=t.params||[])}return r(n,e),n.prototype.run=function(e,r){var n=this;if("string"!=typeof this.functionName||0===this.functionName.length)return t.rejectPromise("Call: a function name must be specified");var i=0===this.functionName.indexOf("$model")?"$model":"$global",o=e.getValue(i),a=this.functionName.replace(i+".",""),s=o[a]||r[a],l=e.getContext();return this.params.forEach(function(t){var r=e.getValue(t.expr);l[t.name]=r}),this.resultVariableName?s(l).then(function(r){return e.setValue(n.resultVariableName,r),t.trivialPromise()}):s(l)||t.trivialPromise()},n}(s);t.Call=Y;var z=function(e){function n(){e.apply(this,arguments)}return r(n,e),n.prototype.run=function(e,r){return t.trivialPromise()},n}(s);t.Debugger=z;var W=function(e){function n(t){e.call(this),this.message="",this.level="info",t&&(this.message=t.message,this.level=t.level||this.level)}return r(n,e),n.prototype.run=function(e,r){if(!this.message)return t.rejectPromise("Log: message must be specified");var n=e.evalAutoExpression(this.message);return r.log(this.level,n),t.trivialPromise()},n}(s);t.Log=W;var J=function(n){function i(e){n.call(this),this.expr="",this.errorVariableName="",e&&(this.expr=e.expr,this.errorVariableName=e.errorVariableName)}return r(i,n),i.prototype.run=function(e,r){return this.expr?this.eval(this.expr,e):t.rejectPromise("Eval: an expression must be specified")},i.prototype.eval=function(e,t){var r=this,n=t.getContext(),o="",a=function(e,n){r.errorVariableName?(t.setValue(r.errorVariableName,n),e.resolve()):e.reject(n)};return $.each(n,function(e){o+="variables.setValue('"+e+"', "+e+");"}),i.exec(e,o,a,t,n)},i.runFn=function(e,t,r){var n=e.replace(/\n/g," ").replace(/\r/g," ").replace(/"/g,'\\"'),i=new Function("_values_","variables",'with(_values_) {return eval("'+n+'")}');return i.apply(null,[t,r])},i.exec=function(t,r,n,o,a){var s=$.Deferred();try{var l=i.runFn(t,a);e.Utils.Cast.isPromise(l)?l.then(function(){i.runFn(r,a,o),s.resolve()},function(e){n(s,e)}):(i.runFn(r,a,o),s.resolve())}catch(e){n(s,e.message)}return s},i}(s);t.Eval=J}(t=e.Logic||(e.Logic={}))}(t||(t={}));var t;!function(e){"use strict";function t(t){if(!t)return"object";switch(e.startsWith(t,"Edm.")&&(t=t.substr(4)),t){case"String":return"string";case"Int32":case"Int64":return"number";case"Guid":return"string";case"Boolean":return"boolean";default:return"object"}}!function(e){e[e.PRIMITIVE_TYPE=0]="PRIMITIVE_TYPE",e[e.ARRAY_TYPE=1]="ARRAY_TYPE",e[e.OBJECT_TYPE=2]="OBJECT_TYPE",e[e.STORE_TYPE=3]="STORE_TYPE",e[e.TYPED_OBJECT=4]="TYPED_OBJECT"}(e.TYPES||(e.TYPES={}));var r=e.TYPES;e.odataToJsonType=t;var n=function(){function e(t){this.types=[],this.addWithList({name:e.BOOLEAN,kind:r.PRIMITIVE_TYPE,defaultValueCtor:function(){return!1},toUIString:function(e){return ko.unwrap(e).toString()}}),this.addWithList({name:"number",kind:r.PRIMITIVE_TYPE,defaultValueCtor:function(){return 0},toUIString:function(e){return ko.unwrap(e).toString()}}),this.addWithList({name:"string",kind:r.PRIMITIVE_TYPE,defaultValueCtor:function(){return""},toUIString:function(e){return'"'+ko.unwrap(e)+'"'}}),this.addWithList({name:"datetime",kind:r.PRIMITIVE_TYPE,defaultValueCtor:function(){return new Date},toUIString:function(e){return ko.unwrap(e).toString()}}),this.addWithList({name:"object",kind:r.OBJECT_TYPE,defaultValueCtor:function(){return{}},toUIString:function(e){return null===e?"null":"undefined"==typeof e?"undefined":ko.unwrap(e).toString()}}),this.addWithList({name:"guid",kind:r.PRIMITIVE_TYPE,defaultValueCtor:function(){return""},toUIString:function(e){return ko.unwrap(e)}}),this.addStoreTypes(t)}return Object.defineProperty(e,"BOOLEAN",{get:function(){return"boolean"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OBJECT",{get:function(){return"object"},enumerable:!0,configurable:!0}),e.hasProperties=function(e){return e.kind===r.STORE_TYPE&&(e.properties.length>1&&!!e.keyProperty||e.properties.length>0&&!e.keyProperty)},e.migrateObject=function(e,t){if(t.kind!==r.STORE_TYPE)return e;if(e instanceof Object){var n=t.properties;if(n.length){var i={};return t.keyProperty&&(i[t.keyProperty.name]=!0),n.forEach(function(t){e.hasOwnProperty(t.name)||(e[t.name]=t.type.defaultValueCtor()),i[t.name]=!0}),$.each(Object.keys(e),function(t,r){i[r]||delete e[r]}),e}return e}return t.defaultValueCtor()},e.prototype.get=function(e){return this.types[ko.unwrap(e)]},e.prototype.getAll=function(){return this.types},e.prototype.typeOf=function(e){var t=typeof e;if(this.types[t])return t;for(var n=0;n<this.types.length;n++){var i=this.types[n];if(i.kind===r.PRIMITIVE_TYPE){if(typeof i.defaultValueCtor()===t)return i.name;if(this.isStoreObject(e,i))return i.name}}return null},e.prototype.storeId=function(e){var t=this.get(e);if(t){if(t.kind===r.STORE_TYPE)return t.name;if(t.kind===r.ARRAY_TYPE&&t.nestedType.kind===r.STORE_TYPE)return t.nestedType.name}return null},e.prototype.addTypedObjectType=function(e){e&&this._add(e)},e.prototype.addStoreTypes=function(n){var i=this;n&&n.forEach(function(n){var o,a=[];if(n.fields&&n.fields.forEach(function(e){var t=i.get(e.type);t||(console.warn("Store '"+n.id+"' field '"+e.name+"' has unknown type '"+e.type+"'"),t=i.get("object"));var r={name:e.name,type:t};e.name===n.key?o=r:a.push(r)}),!o&&n.key){var s=t(n.keyType);o={name:n.key,type:i.get(s)||i.get(e.OBJECT)}}i.addWithList({name:n.id,kind:r.STORE_TYPE,keyProperty:o,properties:a,defaultValueCtor:function(){return i.defaultObjectCtor(a)},toUIString:function(e){return"{"+n.id+"}"}})})},e.prototype.isStoreObject=function(e,t){if(!$.isPlainObject(e))return!1;var r=!0;return $.each(e,function(e,n){return r=t.properties.some(function(t){return e===t.name})}),r},e.prototype.defaultObjectCtor=function(e){var t={};return e.forEach(function(e){t[e.name]=e.type.defaultValueCtor()}),t},e.prototype.createListType=function(e){var t={name:e.name+"[]",kind:r.ARRAY_TYPE,defaultValueCtor:function(){return[]},nestedType:e,toUIString:function(t){t=ko.unwrap(t);var r=e.name+"[";return t&&t.length>0&&(r+=t.length),r+"]"}};return t},e.prototype.addWithList=function(e){this._add(e);var t=this.createListType(e);this._add(t)},e.prototype._add=function(e){this.types.push(e),this.types[e.name]=e},e}();e.TypeInfoRepository=n}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=function(){function t(e){this._config=e,this.value=e.value}return Object.defineProperty(t.prototype,"name",{get:function(){return this._config.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parameter",{get:function(){return this._config.parameter||!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._config.type||"object"},enumerable:!0,configurable:!0}),t.prototype.resetValue=function(){this.value=e.Utils.clone(this._config.value)},t.fromJson=function(e){var r=new t(e);return r},t}();t.Variable=r}(t=e.Logic||(e.Logic={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";function n(e){function t(e){if(e&&"object"==typeof e){if(r.indexOf(e)!==-1)return!0;r.push(e);for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return console.log(e,"cycle at "+n),!0}return!1}var r=[];return t(e)}function i(r){var n=e.Application.get();n&&n.model&&t.Utils.addHeaders([{name:"X-CSRFToken",value:n.model.csrfToken}])(r)}function o(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Array.isArray(e)){var n=e;n.forEach(function(e){t.forEach(function(t){"undefined"==typeof e[t]&&(e[t]=null)})})}else t.forEach(function(t){"undefined"==typeof e[t]&&(e[t]=null)})}function a(e){var t=e.map(function(e){var t=m.clone(e);return t.isCalculated=!!e.getter,t});return o(t,"name","type","defaultValue","defaultValueExpr","persistent","getter","setter","observables"),t}function s(e){return e.map(function(e){var t=m.clone(e);return t.isCalculated?delete t.defaultValue:(delete t.getter,delete t.setter),t.defaultValueExpr?delete t.defaultValue:delete t.defaultValueExpr,t})}function l(e){if(e){var t=m.clone(e);return o(t,"customSplitNavigation","defaultView","title"),t.items.forEach(function(e){return e.isView=!e.onExecute}),t}return{customSplitNavigation:null,defaultView:"",title:"",items:[]}}function u(e){return{defaultView:e.defaultView,title:e.title,items:e.items.map(function(e){var t=m.clone(e);return delete t.isView,t.visible||delete t.visible,t}),customSplitNavigation:e.customSplitNavigation}}function c(e,t){return e?m.clone(e):t}function d(e){var t="",r="",n="";return(e||v).forEach(function(e){var i=e.layout;switch(e.name){case"DesktopRule":t=i;break;case"PhoneRule":n=i;break;case"TabletRule":r=i}}),{desktopLayout:t,tabletLayout:r,phoneLayout:n}}function p(e){var t=m.clone(v);return t.forEach(function(t){switch(t.name){case"DesktopRule":t.layout=e.desktopLayout;break;case"PhoneRule":t.layout=e.phoneLayout;break;case"TabletRule":t.layout=e.tabletLayout}}),t}function f(e){var t={url:e,dataType:"json"};return i(t),$.ajax(t)}function h(e,t){var r={url:e,data:{json:JSON.stringify(t)},method:"PATCH"};return i(r),$.ajax(r)}var m=e.Utils,v=[{name:"DesktopRule",layout:"desktop",defaultCommandContainer:"header",defaultCommandLocation:"after",options:{generic:!0}},{name:"PhoneRule",layout:"slideout",defaultCommandContainer:"header",defaultCommandLocation:"after",options:{phone:!0}},{name:"TabletRule",layout:"split",defaultCommandContainer:"header",defaultCommandLocation:"after",options:{tablet:!0}}],g=function(){function e(e){this.cache=ko.observable(null),this.loadPromise=null,this.jsonUrl=e}return e.get=function(t){var r=e.caches[t];return r||(r=new e(t),e.caches[t]=r),r},e.prototype.get=function(){var e=this;return this.cache()?$.Deferred().resolve(this.cache()):(this.loadPromise||(this.loadPromise=f(this.jsonUrl).then(function(t){return e.cache(t),e.loadPromise=null,t})),this.loadPromise)},e.prototype.updated=function(){this.cache(this.cache())},e.prototype.options=function(e){var t=this;return this.get().then(function(r){if(!e)return{id:r.id||"com.xenarius.app",title:r.title||"",shortTitle:r.shortTitle||"",description:r.description||"",version:r.version||"1.0.0",icon:r.icon||"",appProtocol:r.appProtocol,targetDevice:r.targetDevice||"universal",author:c(r.author,{name:null,email:null,website:null}),navigation:l(r.navigation),authorization:c(r.authorization,{allowAnonymous:!0,loginView:""}),model:a(r.model||[]),functions:c(r.functions||r.globalFunctions,[]),platforms:d(r.platforms),theme:c(r.theme,{"base-accent":null,"base-text-color":null,"base-bg":null,"base-border-color":null,"base-border-radius":null}),notifications:!1,onStarted:r.onStarted};var n={id:e.id,title:e.title,shortTitle:e.shortTitle,description:e.description,version:e.version,icon:e.icon,appProtocol:e.appProtocol,targetDevice:e.targetDevice,author:m.clone(e.author),navigation:u(e.navigation),authorization:m.clone(e.authorization),model:s(e.model),functions:m.clone(e.functions),platforms:p(e.platforms),theme:m.clone(e.theme),onStarted:m.clone(e.onStarted)};Object.keys(n).forEach(function(e){return r[e]=n[e]}),delete r.globalFunctions,t.updated(),h(t.jsonUrl,n)})},e.caches={},e}();t.JsonCache=g;var y=function(o){function a(t,r){var a=this;void 0===r&&(r=null);var s=g.get(t.url),l=e.compileGetter(t.jsonPath),u=e.compileSetter(t.jsonPath),c=function(e){return s.get().then(function(t){var r=l(t);if(e&&r){var n=DevExpress.data.query(r);e.filter&&(n=n.filter(e.filter)),e.sort&&(n=n.sortBy(e.sort)),e.select&&(n=n.select(e.select)),r=n.toArray()}return r})},d=function(r,n,o){var a={url:t.url,data:{json:JSON.stringify(r),path:t.jsonPath,keyName:n,keyValue:o},method:"POST"};return i(a),$.ajax(a),s.get().then(function(t){var i=l(t),a=null!=i?e.indexInArray(i,function(e){return e[n]===o}):null;return r?a>=0?i[a]=r:i.push(r):a>=0&&i.splice(a,1),s.updated(),!0})},p=t.keyPrefix;p||(p=t.id,e.endsWith(p,"s")&&(p=p.substring(0,p.length-1))),$.extend(t,{totalCount:function(){return c().then(function(e){return $.Deferred().resolve(e?e.length:0)})},load:c,byKey:function(t){var r=a.key();return c().then(function(n){return e.findInArray(n,function(e){return e[r]===t})})},update:function(e,t){var r=$.Deferred();return n(t),d(t,a.key(),e).then(function(){r.resolve()}),r.promise()},insert:function(n){var i,o=a,c=a.key(),f=$.Deferred();return s.get().then(function(h){var m=l(h);if(m||(m=[],u(h,m)),c)if(i=a.keyOf(n),!i||"object"==typeof i&&$.isEmptyObject(i)){if($.isArray(c))return void f.reject(new Error("Compound keys cannot be auto-generated"));var v=0;m.forEach(function(e){var t=a.keyOf(e);if(t.startsWith(p))try{var r=parseInt(t.substr(p.length),10);r>v&&(v=r)}catch(e){return}}),i=n[c]=p+(v+1);var g={$key:i,$global:r};(t.fields||[]).forEach(function(t){if(!n[t.name]&&"string"==typeof t.defaultValueExpr){var r=e.Logic.Operation.eval(t.defaultValueExpr,g);n[t.name]=r}})}else e.findInArray(m,function(e){return e.id===i})&&f.reject(new Error("Attempt to insert an item with the a duplicated key"));else i=n;m.push(n),s.updated(),d(n,o.key(),i).then(function(){return f.resolve(i)},function(e){return f.reject(e)})}),f.promise()},remove:function(r){var n=a,i=t.key;return s.get().then(function(t){var o=l(t)||[],a=e.indexInArray(o,function(e){return e[i]===r});if(a>=0)return o.splice(a,1),d(null,n.key(),r)})}}),o.call(this,t)}return r(a,o),a.prototype.bind=function(e){t.Utils.bindStore(this,e)},a}(DevExpress.data.CustomStore);t.JsonStore=y}(t=e.Stores||(e.Stores={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=DevExpress.data,n=e.Stores,i=function(){function t(){}return t.createStoreOptions=function(t,r){var n=e.Model.createLinkedModel(t,{$global:r.model},{callerType:"data provider options",callerId:t.id},r.functions);return n.errorHandler=function(e){e.initiatorId=n.id},n},t.createStore=function(t,i){var o=null,a=this.createStoreOptions(t,i);switch(t.type){case"odata":o=new n.ODataStore(a,i.stores,i.model);break;case"array":var s=a.array;e.transformISODates(s),o=new n.ArrayStore({data:s,key:a.key});break;case"json":o=new n.JsonStore(a,i.model);break;case"rest":o=new n.RestStore(a,i.model,i);break;case"local":var l=a.array,u=a.name,c=a.flushInterval,d=a.immediate;e.transformISODates(s),o=new r.LocalStore({data:l,key:a.key,name:u,immediate:d,flushInterval:c});break;default:console.error("Unknown store type '"+a.type+"'")}return o},t}();t.StoreFactory=i}(t=e.Stores||(e.Stores={}))}(t||(t={}));var t;!function(e){var t;!function(t){var r;!function(t){"use strict";function r(t){return function(r){try{r.url=e.Logic.Operation.eval(r.url,t)}catch(e){}return r}}function n(e){var t=function(e){};return e&&e.length&&(t=function(t){return t.headers=t.headers||{},e.forEach(function(e){t.headers[e.name]=e.value}),t}),t}function i(t,r){var n=s[r]?s[r](t):void 0;if(!n){var i=t.getResponseHeader("Content-Type");if(i)for(var o in l)if(e.startsWith(i,o)){r=l[o],n=s[r]?s[r](t):void 0;break}}return n}function o(e,t){t=t||",";for(var r=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],i=null;i=r.exec(e);){var o=i[1];o.length&&o!==t&&n.push([]);var a;a=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],n[n.length-1].push(a)}return n}function a(e,t){var r=e.key(),n=t()||[];e.on("loaded",function(e){t(e)}),e.on("removed",function(e){var i=n.filter(function(t){return t[r]!==e});t(i)}),e.on("inserted",function(e){n.push(e),t(n)}),e.on("updated",function(e,i){var o=n.filter(function(t){return t[r]===e})[0],a=n.indexOf(o);n[a]=i,t(n)})}t.compileUrl=r,t.addHeaders=n;var s={csv:function(e){if(e.responseText){var t,r=e.responseText;return t=r.indexOf('";"')>=0?";":r.indexOf('","')>=0?",":r.indexOf(";")>=0?";":",",o(r,t)}},xml:function(t){var r;try{var n=t.responseXML||$.parseXML(t.responseText);n&&(r=e.xmlToJs(n))}catch(e){}return r},json:function(e){var t;try{t=e.responseJson||JSON.parse(e.responseText)}catch(e){}return t}},l={"text/csv":"csv","text/xml":"xml","application/xml":"xml","application/json":"json"};t.convertData=i,t.bindStore=a}(r=t.Utils||(t.Utils={}))}(t=e.Stores||(e.Stores={}))}(t||(t={}));var t;!function(e){var t;!function(e){}(t=e.Views||(e.Views={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";function n(t){var r=t.componentName?e.Views.componentInfos[t.componentName]:null,n=[],i=e.propertyVisitor(t.viewModel,function(i){var o,a=i.value,s=i.name,l=!1,u=a;if(r&&r.events&&(l=r.events.some(function(e){return e===s})),l){o=t.functions[a];var c=$.extend({},t.runContext);u=function(e){var r=e?e.jQueryEvent:null;return r&&r.stopPropagation&&"command"!==t.componentName&&r.stopPropagation(),e&&(e.itemData||e.data)?c.$data=e.itemData||e.data:c.$data=t.runContext.$data,o(c)}}else if("string"==typeof a){var d=a;u=e.wrapModelReference(d,t.runContext,t.callerInfo,t.functions),u!==d&&n.push(i.path?i.path+"."+s:s)}return u});return r&&r.componentViewModel&&(i=r.componentViewModel(i)),n.length>0&&(i._bindingProperties=n),i}function i(e){for(;e.$parent;){if(void 0!==e.nestedTemplateModel)return e.nestedTemplateModel;e=e.$parent}return!1}function o(e,t,r,i,o){var a;if(r&&e&&(a=$(ko.virtualElements.firstChild(e)).parents("[data-options^='dxTemplate']"),a.length>0)){var s=a.filter(function(e,t){var r=t.attributes["data-options"].value;return"dxTemplate: { name: 'item' }"===r}).get(0);o=ko.dataFor(s)}var l=n({componentName:t.component,runContext:{$data:o,$model:i,$global:i._global},callerInfo:{callerType:"getComponentModel delegate",callerId:t.component},viewModel:t.viewModel,functions:i._functions});return l.nestedTemplateModel=r,l}var a=1,s=function(){function e(){}return e.GetDefaults=function(e){return e.type&&t.componentInfos[e.type]&&t.componentInfos[e.type].defaults?t.componentInfos[e.type].defaults:{}},e}();t.DefaultsProvider=s;var l=function(){function r(e,t){this.options={},this.options=$.extend({},{designMode:!1,defaultsGetter:s.GetDefaults},t),this.config=$.extend(!0,{},this.options.defaultsGetter(e),e)}return r.prototype._getModelObject=function(e,t){return this.patchConfig(e||this.config,t)},r.prototype._getBindnigStringObject=function(e){var t=$.extend({},e);return delete t.type,t},r.prototype.getModel=function(t,r){var n=this._getModelObject(r||this.config,t),i=this;return{model:n,get bindingString(){return e.BindingStringMaker.makeString(i._getBindnigStringObject(n))}}},r.prototype._patchField=function(e){return"string"==typeof e&&(e="'"+e.replace(/'/g,"\\'")+"'"),e},r.prototype._patchConfig=function(e,t){return this.patchConfig({
config:e},t).config},r.prototype._patchEvents=function(e,t,r){t.events&&t.events.forEach(function(t){var n,i,o,s=e[t];s&&r&&r.createFunctionCompiler&&(o=r.createFunctionCompiler(s),n=function(r){return o.run($.extend({},r),{callerType:"event of the "+e.id+"component",callerId:t})},i="anonymousEvent"+a++,r.functions[i]=n,e[t]=i)})},r.prototype.patchConfig=function(r,n){var i=this;return e.propertyVisitor(this.patchStyles(r),function(e){return i.options.designMode||"type"===e.name?e.value:i._patchField(e.value)},{getValueCallback:function(e){var r=e.type&&t.componentInfos[e.type];return r?(i._patchEvents(e,r,n),new r.rendererType(e,null).getModel(n)):i.patchConfig(e,n)}})},r.prototype.patchStyles=function(e){return $.each(e.style||{},function(t,r){var n=t.indexOf("-"),i=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""};if(n!==-1){delete e.style[t];var o=t.substring(0,n),a=i(t.substring(n+1));e.style[""+o+a]=r}}),e},r}();t.ComponentMarkupRenderBase=l;var u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype._patchComponents=function(e,t,r,n){var i=this;return void 0===r&&(r="height"),void 0===n&&(n=!0),e.map(function(e){var o=e.style||{},a=o[r]||"",s=a.indexOf("%")===-1,l=n?i._patchConfig(e,t):e;return{preventShrink:s,component:l}})},t}(l);t.BaseContainerMarkupRenderer=u;var c=function(t){function n(e,r){t.call(this,e,{}),this.viewConfig=e,this.application=r}return r(n,t),n.prototype.getModel=function(){var r=e.extract(this.viewConfig,"components"),n=t.prototype.getModel.call(this,this.application,r.leftover).model,i=this._patchComponents(r.target,this.application);return{model:$.extend(n,{components:i}),bindingString:e.BindingStringMaker.makeString({name:n.id,title:n.title,disableCache:n.disableCache,pane:n.pane})}},n.prototype.render=function(){var e,t,r=this;if(dust.onLoad=function(e,t){var n=document.getElementById(e);n||r.application.registerMissingTemplate(e.substr("xet-dust-".length)),t(null,n?n.innerHTML:"!template with name "+e+" is not found!")},dust.render("xet-dust-view",this.getModel(),function(r,n){t=r,e=n}),!e)throw new Error("Something went wrong during rendering of the '"+this.viewConfig.id+"' view markup. Error: \n"+t);return e},n}(u);t.ViewMarkupRenderer=c;var d=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype.getModel=function(r){var n=e.extract(this.config,"items"),i=n.leftover,o=n.target||[];return i.items=o.map(function(e){return{label:{text:e.title},template:e.id,visible:e.visible}}),{model:{type:this.config.type,form:t.prototype.getModel.call(this,r,i),components:this._patchConfig(o,r).map(function(e,t){return e.model.templateName="'"+i.items[t].template+"'",e})}}},n}(u);t.FormMarkupRenderer=d;var p={vertical:"column",horizontal:"row",top:"flex-start",middle:"center",center:"center",bottom:"flex-end",left:"flex-start",right:"flex-end"};t.flexStylesList=["flexDirection","justifyContent","alignItems","flexWrap","flexFlow","alignContent","flexBasis","flexGrow","flexShrink","flex","alignSelf","order"];var f=function(n){function i(e,t){void 0===t&&(t={}),n.call(this,e,t)}return r(i,n),i.prototype.getModel=function(r){var i=!!this.config.scrollable,o="vertical"===this.config.orientation,a={orientation:this.config.orientation,verticalAlign:this.config.verticalAlign,horizontalAlign:this.config.horizontalAlign},s=e.remapWithValues(a,{orientation:"flexDirection",horizontalAlign:o?"alignItems":"justifyContent",verticalAlign:o?"justifyContent":"alignItems"},p,!0),l=$.extend({},this.config,{style:$.extend(this.config.style,s)}),u=e.extract(l,"components");if(i){var c=e.extractMany(l.style,t.flexStylesList);u.leftover.otherStyles=c.leftover,u.leftover.flexStyles=c.target}var d={type:l.type,scrollable:i,stackPanel:n.prototype.getModel.call(this,r,u.leftover),components:this._patchComponents(u.target||[],r,o?"height":"width")};return{model:d,bindingString:d.stackPanel.bindingString}},i}(u);t.StackPanelMarkupRender=f;var h=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,t,r)}return r(t,e),t.prototype._getModelObject=function(t,r){return t.mode="password",e.prototype._getModelObject.call(this,t,r)},t}(l);t.PassboxMarkupRender=h;var m=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype._getModelObject=function(r,n){var i=t.prototype._getModelObject.call(this,r,n),o=e.LayoutHelper.getDeviceType();return["showIcon","showText"].forEach(function(e){i[e]&&(i[e]=i[e][o])}),i},n.prototype._getBindnigStringObject=function(e){var r=t.prototype._getBindnigStringObject.call(this,e);return r.type=e.buttonType,r},n}(l);t.CommandMarkupRender=m;var v=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.getBootstrapColStyle=function(e,t,r){var n="",i=["lg","md","tablet","phone"],o={lg:"lg",md:"md",tablet:"sm",phone:"xs"},a=e.span;return i.forEach(function(e){t&&t[e]&&(a=r/t[e]),n+="col-"+o[e]+"-"+a+" "}),n},n.prototype.getModel=function(r){var i=this,o=e.destruct(this.config,"columns"),a=o[0],s=o[1],l={type:this.config.type,row:t.prototype.getModel.call(this,r,s),columns:(this._patchConfig(a,r)||[]).map(function(e){return $.extend(e,{bootstrapColStyle:i._patchField(n.getBootstrapColStyle(e,i.config.wrap,i.config.totalSpanCount||12)),style:t.prototype.getModel.call(i,r,e.style||{})})})};return{model:l,bindingString:l.row.bindingString}},n}(l);t.RowMarkupRender=v;var g=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype.getModel=function(r){var n=e.extract(this.config,"itemComponents"),i=e.extract(n.leftover,"groupComponents");i.leftover.scrollingEnabled=!!this.config.scrollable;var o={type:this.config.type,list:t.prototype.getModel.call(this,r,i.leftover),itemComponents:this._patchComponents(n.target||[],r),groupComponents:this._patchComponents(i.target||[],r)};return{model:o,bindingString:o.list.bindingString}},n}(u);t.ListMarkupRender=g;var y=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype.getModel=function(r){var n=this,i=e.extract(this.config,"fields"),o={type:this.config.type,fieldset:t.prototype.getModel.call(this,r,i.leftover),fields:(i.target||[]).map(function(e){return e.visible=void 0===e.visible||e.visible,$.extend(!0,{model:n._patchConfig({title:e.title,visible:e.visible},r)},n._patchConfig(e,r))}),singleColumnLayout:"phone"===e.LayoutHelper.getDeviceType()};return{model:o,bindingString:o.fieldset.bindingString}},n}(l);t.FieldsetMarkupRender=y;var x=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype.getModel=function(r){var n=this,i=e.extract(this.config,"tabs");delete i.leftover.type,this.config.style&&this.config.style.height&&(i.leftover.height=this.config.style.height);var o=e.extract(i.leftover,"style"),a=i.target||[];a=a.map(function(e){var t=e.components||[];return e.components=n._patchComponents(t,r,"height",!1),e});var s={type:this.config.type,tabpanel:t.prototype.getModel.call(this,r,o.leftover),control:t.prototype.getModel.call(this,r,{tabpanel:o.leftover,style:o.target}),tabs:this._patchConfig(a,r)};return{model:s,bindingString:s.tabpanel.bindingString}},n}(u);t.TabsMarkupRender=x;var b=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype.getModel=function(r){var n=this,i=e.extract(this.config,"panels");delete i.leftover.type;var o=e.extract(i.leftover,"style");i.target=i.target.map(function(e){var t=e.components||[];return e.components=n._patchComponents(t,r,"height",!1),e});var a={type:this.config.type,control:t.prototype.getModel.call(this,r,{options:o.leftover,style:o.target}),panels:this._patchConfig(i.target,r)};return{model:a,bindingString:""}},n}(u);t.AccordionMarkupRender=b;var w=function(t){function n(e,r){void 0===r&&(r={}),t.call(this,e,r)}return r(n,t),n.prototype.getModel=function(r){var n=e.extract(this.config,"components");return{model:{type:this.config.type,scrollview:t.prototype.getModel.call(this,r,n.leftover),components:this._patchComponents(n.target,r)},bindingString:""}},n}(u);t.ScrollViewMarkupRender=w,t.getComponentModel=n,t.withModelBinding=o,ko.bindingHandlers.withModel={init:function(e,t,r,n,a){var s=t(),l=i(a),u=a.$root,c=a.$data,d=o(e,s,l,u,c);return ko.applyBindingsToDescendants(a.createChildContext(d,"component",function(e){ko.utils.extend(e,t())}),e),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.withModel=!0}(t=e.Views||(e.Views={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";t.componentInfos={view:{rendererType:t.ViewMarkupRenderer,events:["onLoad","onShow","onHide","onDispose"]},link:{rendererType:t.ComponentMarkupRenderBase,defaults:{text:"",link:"",visible:!0},componentViewModel:function(t){return r=e.destructMany(t.style,["textOverflow","wordWrap","whiteSpace"]),t.textStyle=r[0],t.style=r[1],t.clickHandler=function(t,r){return e.defaultLinkClickHandler(r)},t;var r}},label:{rendererType:t.ComponentMarkupRenderBase,defaults:{text:"",visible:!0},componentViewModel:function(t){return r=e.destructMany(t.style,["textOverflow","wordWrap","whiteSpace"]),t.textStyle=r[0],t.style=r[1],t.htmlText=ko.computed(function(){return e.escapeHtml(t.text)}),t;var r}},button:{rendererType:t.ComponentMarkupRenderBase,events:["onClick"],componentViewModel:function(e){var t=$.extend({},e);return t.type=ko.computed(function(){return"transparent"===e.kind?"normal":e.kind}),t._classNames=ko.computed(function(){return"transparent"===e.kind?{transparent:!0}:void 0}),t}},input:{rendererType:t.ComponentMarkupRenderBase,events:["onChange"]},image:{rendererType:t.ComponentMarkupRenderBase,defaults:{src:null,style:{width:"auto",height:"auto"},visible:!0},events:["onClick"]},fileimage:{rendererType:t.ComponentMarkupRenderBase,defaults:{emptyLabel:"Click or tap to select image",changeImageText:"Take photo or select from gallery",clearText:"Clear",openGalleryText:"Select from gallery",takePhotoText:"Take photo",style:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal"}},componentViewModel:function(e){return new t.FileImageEditorViewModel(e)}},icon:{rendererType:t.ComponentMarkupRenderBase},textarea:{rendererType:t.ComponentMarkupRenderBase,events:["onChange"]},passbox:{rendererType:t.PassboxMarkupRender,events:["onChange"]},colorpicker:{rendererType:t.ComponentMarkupRenderBase,events:["onChange"]},numberbox:{rendererType:t.ComponentMarkupRenderBase,defaults:{showSpinButtons:!0,value:null},componentViewModel:function(e){return"string"==typeof e.value&&(e.value=null),e},events:["onValueChanged"]},radio:{rendererType:t.ComponentMarkupRenderBase,componentViewModel:function(t){return e.remap(t,{stringItems:"items",stringValue:"value"},!0)}},actionsheet:{rendererType:t.ComponentMarkupRenderBase,events:["onItemClick"]},switch:{rendererType:t.ComponentMarkupRenderBase},loadpanel:{rendererType:t.ComponentMarkupRenderBase,defaults:{shading:!0,shadingColor:"rgba(128,128,128, .2)"}},datebox:{rendererType:t.ComponentMarkupRenderBase,events:["onChange"],componentViewModel:function(t){return e.remap(t,{format:"type"},!0)}},stackPanel:{rendererType:t.StackPanelMarkupRender,defaults:{visible:!0,orientation:"vertical",verticalAlign:"top",horizontalAlign:"left",style:{width:"100%"}}},list:{rendererType:t.ListMarkupRender,defaults:{scrollable:!0},events:["onItemClick","onItemHold","onPullRefresh"],componentViewModel:function(e){return $.extend(e,e.editConfig),delete e.editConfig,e}},lookup:{rendererType:t.ComponentMarkupRenderBase,componentViewModel:function(t){var r=t.value?ko.unwrap(t.value):void 0,n=t.valueExpression?DevExpress.data.utils.compileGetter(ko.unwrap(t.valueExpression)):function(e){return e};return t=e.remap(t,{valueExpression:"valueExpr",displayExpression:"displayExpr"},!0),t&&ko.unwrap(t.items)&&$.isArray(ko.unwrap(t.items))&&ko.unwrap(t.items).forEach(function(e){JSON.stringify(r)===JSON.stringify(n(e))&&t.value(n(e))}),t}},tabpanel:{rendererType:t.TabsMarkupRender,defaults:{style:{}}},tabs:{rendererType:t.ComponentMarkupRenderBase,defaults:{showNavButtons:!1}},accordion:{rendererType:t.AccordionMarkupRender},datagrid:{rendererType:t.ComponentMarkupRenderBase,events:["onRowClick"],componentViewModel:function(t){var r=ko.unwrap(t.dataSource);if(r&&r._calculatedFields){var n=r._calculatedFields;t.onRowUpdating=function(t){var r=t.newData;$.each(r,function(t,i){e.findInArray(n,function(e){return e.name===t})&&delete r[t]})}}return t}},row:{rendererType:t.RowMarkupRender,defaults:{visible:!0}},column:{rendererType:t.ComponentMarkupRenderBase},fieldset:{rendererType:t.FieldsetMarkupRender,defaults:{visible:!0}},form:{rendererType:t.FormMarkupRenderer,defaults:{visible:!0}},command:{rendererType:t.CommandMarkupRender,defaults:{visible:!0,disabled:!1,buttonType:"normal"},events:["onExecute"]},scrollview:{rendererType:t.ScrollViewMarkupRender}}}(t=e.Views||(e.Views={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=DevExpress.devices,n=function(){function t(e){var r=this;this.PHOTOLIBRARY=0,this.CAMERA=1,this.actionSheetOptions=ko.observable(null),this.fileSelected=function(e,t){var n=t.currentTarget.parentElement.getElementsByTagName("input")[0];r._handleFiles(t.target,r.value),n.value=null},this.style=e.style,this.value=e.value||ko.observable(),this.visible=e.visible,this.imageSrc=ko.computed(function(){return t.addBase64Header(ko.unwrap(ko.unwrap(r.value)))}),this.emptyLabelVisible=ko.computed(function(){return!r.imageSrc()}),this.imageStyle=ko.computed(function(){var e=r.style,t=isNaN(parseInt(e.width,10))?void 0:e.width,n=isNaN(parseInt(e.height,10))?void 0:e.height;return r.emptyLabelVisible()?{width:t||n,height:n||t}:{width:t||"auto",height:n||"auto"}}),this.emptyLabel=e.emptyLabel,this.clearText=e.clearText,this.takePhotoText=e.takePhotoText,this.openGalleryText=e.openGalleryText}return t.addBase64Header=function(t){return null==t||"(Image)"===t||""===t?null:e.startsWith(t,"http")?t:this.fullBase64Header+this.removeBase64Header(t)},t.removeBase64Header=function(e){if(null!==e){var t=e.indexOf(this.base64Header);return t===-1?e:e.substr(t+this.base64Header.length)}},t.prototype._getActionSheetOption=function(e){var t=this,n="desktop"===r.current().deviceType,i=!!window.cordova,o=[{text:this.takePhotoText,fileSelected:this.fileSelected,touchStart:function(){},visible:i,click:function(e){t._cordovaCameraDelegate(t.CAMERA)}},{text:this.openGalleryText,fileSelected:this.fileSelected,touchStart:function(){i||(t.control.hide(),t.showFileDialog(e))},visible:!0,click:function(r){i?t._cordovaCameraDelegate(t.PHOTOLIBRARY):t.showFileDialog(e)}},{text:this.clearText,fileSelected:this.fileSelected,visible:!this.emptyLabelVisible(),touchStart:function(){},click:function(){t.value(null)}}];return{target:e.currentTarget,usePopover:n,visible:ko.observable(!1),showTitle:!1,width:n?"auto":void 0,dataSource:o,onItemClick:function(e){e.itemData.click(e)},onInitialized:function(e){t.control=e.component}}},t.prototype._cordovaCameraDelegate=function(e){void 0===e&&(e=this.CAMERA);var t=function(e){this.value(e)},r=function(e){console.log("Failed because: "+e)};navigator.camera.getPicture(t.bind(this),r,{quality:50,destinationType:0,sourceType:e})},t.prototype._handleFiles=function(e,r){for(var n=e.files,i=0;i<n.length;i++){var o=n[i],a=/image.*/;if(o.type.match(a)){var s=new FileReader;s.onload=function(e){r(t.removeBase64Header(s.result))},s.readAsDataURL(o)}}},t.prototype.showFileDialog=function(e){var t=e.currentTarget.parentElement.getElementsByTagName("input")[0];t&&(t.click(),e.stopPropagation())},t.prototype.showFileDialogOrActionSheet=function(e,t){this.actionSheetOptions(this._getActionSheetOption(t)),this.emptyLabelVisible()&&!window.cordova?this.showFileDialog(t):this.actionSheetOptions().visible(!0)},t.fullBase64Header="data:image/png;base64,",t.base64Header="base64,",t}();t.FileImageEditorViewModel=n}(t=e.Views||(e.Views={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=function(){function r(r,n,i){e.findInArray(r.params,function(e){return!!e.shared})&&(r.disableCache=!0),this.viewMarkup=$(new t.ViewMarkupRenderer(r,n).render()),this.viewModel=function(){var e=new t.ViewModel(r,n);return e.model}}return r}();t.View=r}(t=e.Views||(e.Views={}))}(t||(t={}));var t;!function(e){var t;!function(t){"use strict";var r=DevExpress.data,n=function(){function n(t,r){var n=this;this.events={},this.alreadyShown=!1,t.model=t.model||[],this.model=e.Model.createModel(t,r),this.viewConfig=t,this.patchEvents(r),this.model._functions=r.functions,this.model._global=r.model,this.model._scrollViewResetter={reset:function(){}},0===(t.model||[]).filter(function(e){return"title"===e.name}).length&&(this.model.title=ko.pureComputed(function(){return e.getModelValue(t.title||"",{$global:r.model,$model:n.model},{callerId:"title",callerType:"View model"},r.functions)}));var i=ko.observable(!t.params||0===t.params.length);this.model.isReady=ko.observable(!1),this.model.viewShowing=function(e){n.alreadyShown&&!t.refreshWhenShown||n.setModelValueFromParameter(r,i,e&&e.params&&e.params.parameters);var o=((e.viewInfo||{}).layoutController||{})._popup;o&&["height","width"].forEach(function(e){t[e]&&(o.option(e,t[e]),o.option("fullScreen")&&o.option("fullScreen",!1))})},this.model.viewShown=function(o){n.alreadyShown?t.refreshWhenShown&&(e.Model.initializeDataSources(n.model,{$model:n.model,$global:r.model},r,r.stores,!0,t.dataSources),n.model._scrollViewResetter.reset()):(ko.computed(function(){n.model.isReady(ko.unwrap(i))}),e.Model.initializeDataSources(n.model,{$model:n.model,$global:r.model},r,r.stores,!1,t.dataSources),n.alreadyShown=!0),n.refreshStrategies?n.refreshStrategies.forEach(function(e){e.enabled=!0,e.refresh()}):n.refreshStrategies=n.createRefreshStrategies(r,o&&o.params),n.onEvent("onShow")},this.model.viewHidden=function(){t.refreshWhenShown&&(i(!1),n.clearModel(r)),n.refreshStrategies.forEach(function(e){e.hidden()}),n.onEvent("onHide")},this.model.viewDisposing=function(){n.model.dispose(),n.refreshStrategies&&(n.refreshStrategies.forEach(function(e){e.dispose()}),n.refreshStrategies.splice(0,n.refreshStrategies.length)),n.onEvent("onDispose")},this.onEvent("onLoad")}return n.optional=function(e){return void 0!==e.defaultValue},n.prototype.clearModel=function(t){var r=this,n=e.Model.createModel(this.viewConfig,t);this.viewConfig.model.filter(function(e){return!e.getter}).forEach(function(e){var t=e.name;r.model[t]=n[t]})},n.prototype.patchEvents=function(e){var r=this,n=t.componentInfos.view;n.events.forEach(function(t){var n,i=r.viewConfig[t];i&&e.createFunctionCompiler&&(n=e.createFunctionCompiler(i),r.events[t]=function(){return n.run({$global:e.model,$model:r.model},{callerType:"view event",callerId:t})})})},n.prototype.onEvent=function(e){var t=this.events[e];t&&t()},n.prototype.createRefreshStrategies=function(n,i){var o=this,a=[];return $.each(this.model,function(e,i){if(i instanceof r.DataSource){var o=i,s=t.DataSourceRefreshStrategy.create(o);s&&a.push(s),o._monitor&&o._monitor.stores&&o._monitor.stores.length>0&&a.push(new t.MonitorRefreshStrategy(o,n,o._monitor.stores))}}),this.viewConfig.params&&this.viewConfig.params.forEach(function(r){var s=n.typeInfoRepository.get(r.type);if(s&&s.kind===e.TYPES.STORE_TYPE){var l=t.ParameterRefreshStrategy.create(r,o.model,n,i);l&&a.push(l)}}),a},n.prototype.setModelValueFromParameter=function(t,r,n){var i=this,o=0;this.viewConfig.params&&this.viewConfig.params.length&&this.viewConfig.params.forEach(function(a){var s=t.typeInfoRepository.get(a.type);if(a.shared)"undefined"==typeof t.sharedObjects[a.name]&&console.error("Shared parameter '"+a.name+"' is missing from the sharedObjects collection."),i.model[a.name]=t.sharedObjects[a.name];else{var l=n&&n[a.name];if((l||"always"===a.refreshOnViewShown)&&s&&s.kind===e.TYPES.STORE_TYPE){var u=t.stores[a.type];o++,u.byKey(l||a.defaultValue||null,{expand:a.expand}).then(function(e){i.model[a.name]=e}).fail(function(){t.processParameterLoadingError(a.name,l)}).always(function(){o--,r(!o)})}else i.model[a.name]=l||e.Utils.clone(a.defaultValue)}}),r(0===o)},n}();t.ViewModel=n}(t=e.Views||(e.Views={}))}(t||(t={}));var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.ds=e,this.enabled=!0}return e.create=function(t){switch(t._refreshOnViewShown){case"never":return null;case"always":return new e(t);case"whenChanges":default:return new n(t)}},e.prototype.refresh=function(){this.ds.pageIndex(0),this.ds.load()},e.prototype.dispose=function(){},e.prototype.hidden=function(){this.enabled=!1},e}();e.DataSourceRefreshStrategy=t;var n=function(e){function t(t){var r=this;e.call(this,t),this.ds=t,this.callback=function(){r.modified=!0,r.enabled&&r.refresh()},this.ds.store().on("modified",this.callback)}return r(t,e),t.prototype.refresh=function(){this.modified&&(this.modified=!1,e.prototype.refresh.call(this))},t.prototype.dispose=function(){this.ds.store().off("modified",this.callback)},t}(t),i=function(){function e(e,t,r,n){this.enabled=!0,this.param=e,this.model=t,this.application=r,this.store=r.stores[e.type]}return e.create=function(t,r,n,i){switch(t.refreshOnViewShown){case"never":return null;case"always":return new e(t,r,n,i);case"whenChanges":default:return new o(t,r,n,i)}},e.prototype.refresh=function(){var e=this,t=this.store.keyOf(this.model[this.param.name]);t&&this.store.byKey(t,{expand:this.param.expand}).done(function(t){e.model[e.param.name]=t})},e.prototype.dispose=function(){},e.prototype.hidden=function(){this.enabled=!1},e}();e.ParameterRefreshStrategy=i;var o=function(e){function t(t,r,n,i){var o=this;e.call(this,t,r,n,i),this.modified=!1,this.removed=!1;var a=i.parameters?i.parameters[t.name]:void 0;this.insertedCallback=function(e,t){t===a&&(o.modified=!0,o.enabled&&o.refresh())},this.store.on("inserted",this.insertedCallback),this.updatedCallback=function(e,t){o.enabled||void 0!==a&&e!==a||(o.modified=!0,o.enabled&&o.refresh())},this.store.on("updated",this.updatedCallback)}return r(t,e),t.prototype.refresh=function(){this.modified&&(this.modified=!1,e.prototype.refresh.call(this))},t.prototype.dispose=function(){this.store.off("inserted",this.insertedCallback),this.store.off("updated",this.updatedCallback)},t}(i),a=function(){function e(e,t,r){var n=this;this.ds=e,this.application=t,this.storeIds=r,this.enabled=!0,this.modified=!1,this.refreshFunc=function(){n.modified=!0,n.refresh()},this.storeIds.forEach(function(e){var t=n.application.stores[e];t.on("modified",n.refreshFunc)})}return e.prototype.refresh=function(){this.enabled&&(this.ds.load(),this.modified=!1)},e.prototype.dispose=function(){var e=this;this.storeIds.forEach(function(t){var r=e.application.stores[t];r.off("modified",e.refreshFunc)})},e.prototype.hidden=function(){this.enabled=!1},e}();e.MonitorRefreshStrategy=a}(t=e.Views||(e.Views={}))}(t||(t={})),e.__extends=r,e.AppPlayer=t}(this),n()}),System.register("appPlayer/templates/viewcomponents.html!github:systemjs/plugin-text@0.0.8.js",[],function(e,t){"use strict";return{setters:[],execute:function(){e("default",'\r\n<script type="text/dust" id="xet-dust-link">\r\n    <!-- ko withModel: { component: \'link\', viewModel:{ {bindingString|s} }} -->\r\n    {@if cond="\'{model.link}\'.length && \'{model.link}\'.charAt(5) === \'#\'"}\r\n    <a class="xet-label dx-widget xet-flex-column-widget" data-bind="visible: visible, dxAction: $data.link, style: $data.style, attr: { href: $data.link }">\r\n        <span class="xet-label-value" data-bind="text: text, style: $data.textStyle"></span>\r\n    </a>\r\n    {:else}\r\n    <a class="xet-label dx-widget xet-flex-column-widget" data-bind="visible: visible, click: $data.clickHandler, style: $data.style, attr: { href: $data.link }">\r\n        <span class="xet-label-value" data-bind="text: text, style: $data.textStyle"></span>\r\n    </a>\r\n    {/if}\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/dust" id="xet-dust-label">\r\n    <!-- ko withModel: { component: \'label\', viewModel:{ {bindingString|s} }} -->\r\n        <div class="xet-label dx-widget xet-flex-column-widget" data-bind="visible: visible, style: $data.style">\r\n            <div class="xet-label-value" data-bind="html: htmlText, style: $data.textStyle"></div>\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-stackPanel">\r\n    <!-- ko withModel: { component: \'stackPanel\', viewModel:{ {model.stackPanel.bindingString|s} }} -->\r\n        <!-- ko if: $data.scrollable -->\r\n            <div class="xet-stack-panel" data-bind="visible: visible, style: otherStyles">\r\n                <div class="xet-scroller xet-scroll-view" data-bind="dxScrollView: {direction: orientation}, style: flexStyles">\r\n                    <div class="xet-inscroller" data-bind="style: flexStyles">\r\n                        {#model}\r\n                        {>"xet-dust-inflex-components" /}\r\n                        {/model}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <!-- /ko --> \r\n        <!-- ko if: !$data.scrollable -->\r\n            <div class="xet-stack-panel test-stack-panel" data-bind="visible: visible, style: style">\r\n                {#model}\r\n                    {>"xet-dust-inflex-components" /}\r\n                {/model}\r\n                </div>\r\n        <!-- /ko -->\r\n<!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-button">\r\n    <!-- ko withModel: { component: \'button\', viewModel:{ {bindingString|s} }} -->\r\n        <div class="xet-button" data-bind="style: $data.style, dxButton: $data, css: $data._classNames"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-radio">\r\n    <!-- ko withModel: { component: \'radio\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxRadioGroup: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-textarea">\r\n    <!-- ko withModel: { component: \'textarea\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxTextArea: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-input">\r\n    <!-- ko withModel: { component: \'input\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxTextBox: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-image">\r\n    <!-- ko withModel: { component: \'image\', viewModel:{ {bindingString|s} }} -->\r\n        <img data-bind="attr: { src: $data.src }, visible: visible, style: $data.style, click: $data.onClick" />\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-fileimage">\r\n    <!-- ko withModel: { component: \'fileimage\', viewModel:{ {bindingString|s} }} -->\r\n    <div class="xet-fileimage" data-bind="style: $data.style">\r\n        <!-- ko if: actionSheetOptions -->\r\n        <div data-bind="dxActionSheet: actionSheetOptions" >\r\n            <div data-bind="event: { touchstart: touchStart}, dxButton: { text: text }, visible: visible "></div>\r\n        </div>\r\n        <!-- /ko -->\r\n        <input type="file" accept="image/x" style="display: none;" data-bind="event: { change: fileSelected }" />\r\n        <div  class="xet-fileimage-container" data-bind="click: showFileDialogOrActionSheet">\r\n            <img class="xet-fileimage-background-image" data-bind="attr: { src: $data.imageSrc() }, style: imageStyle, visible: !emptyLabelVisible()"/>\r\n            <span class="xet-empty-label" data-bind="style: imageStyle, visible: emptyLabelVisible, text: emptyLabel"></span>\r\n        </div>\r\n    </div>    \r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-icon">\r\n    <!-- ko withModel: { component: \'icon\', viewModel:{ {bindingString|s} }} -->\r\n    <div data-bind="style: $data.style">\r\n        <!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->\r\n    </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/dust" id="xet-dust-switch">\r\n    <!-- ko withModel: { component: \'switch\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxSwitch: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/dust" id="xet-dust-actionsheet">\r\n    <!-- ko withModel: { component: \'actionsheet\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxActionSheet: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/dust" id="xet-dust-loadpanel">\r\n    <!-- ko withModel: { component: \'loadpanel\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxLoadPanel: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-datebox">\r\n    <!-- ko withModel: { component: \'datebox\', viewModel:{ {bindingString|s} }} -->\r\n        <div class="xet-datebox" data-bind="style: $data.style,  dxDateBox: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-numberbox">\r\n    <!-- ko withModel: { component: \'numberbox\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxNumberBox: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-passbox">\r\n    <!-- ko withModel: { component: \'passbox\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxTextBox: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-colorpicker">\r\n    <!-- ko withModel: { component: \'colorpicker\', viewModel:{ {bindingString|s} }} -->\r\n    <div class="xet-color-picker" data-bind="style: $data.style, dxColorBox: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-datagrid">\r\n    <!-- ko withModel: { component: \'datagrid\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxDataGrid: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-lookup">\r\n    <!-- ko withModel: { component: \'lookup\', viewModel:{ {bindingString|s} }} -->\r\n        <div data-bind="style: $data.style, dxLookup: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-fieldset">\r\n    <!-- ko withModel: { component: \'fieldset\', viewModel:{ {model.fieldset.bindingString|s} }} -->\r\n        <div style="display: block; align-self: stretch" class="{@if cond="{model.singleColumnLayout}"}xet-single-column-fieldset{:else}dx-fieldset{/if}" data-bind="style: $data.style, visible: visible">\r\n            {@if cond="{model.singleColumnLayout}"}\r\n                {#model.fields}\r\n                    <!-- ko withModel: { viewModel: { {bindingString|s} } } -->\r\n                    <div class="dx-field" data-bind="visible: visible">\r\n                        <div class="xet-label dx-widget xet-fieldset-sigle-column-label" style="overflow: hidden;" data-bind="text: title"></div>\r\n                        {>"xet-dust-{model.type}" /}\r\n                    </div>\r\n                    <!-- /ko -->\r\n                {/model.fields}\r\n            {:else}\r\n                {#model.fields}\r\n                    <!-- ko withModel: { viewModel: { {bindingString|s} } } -->\r\n                    <div class="dx-field" data-bind="visible: visible">\r\n                        <div class="dx-field-label">\r\n                            <div data-bind="text: title"></div>\r\n                        </div>\r\n                        <div class="dx-field-value">\r\n                            {>"xet-dust-{model.type}" /}\r\n                        </div>\r\n                    </div>\r\n                    <!-- /ko -->\r\n                {/model.fields}\r\n            {/if}\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-tabs">\r\n    <!-- ko withModel: { component: \'tabs\', viewModel:{ {bindingString|s} } } -->\r\n    <div style="display: table" data-bind="style: $data.style, dxTabs: $data"></div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-tabpanel">\r\n    <!-- ko withModel: { component: \'tabpanel\', nestedTemplateModel: false,  viewModel: { {model.control.bindingString|s}} } -->\r\n        <div class="xet-flex-column-widget" data-bind="style: style, dxTabPanel: tabpanel">\r\n            {#model.tabs}\r\n                <div data-options="dxItem: { title: {title} }">\r\n                    {@if cond="{scrollable}"}\r\n                        {>"xet-dust-scrollview-embedded" /}\r\n                    {:else}\r\n                        {>"xet-dust-flex" /}\r\n                    {/if}\r\n                </div>\r\n            {/model.tabs}\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-accordion">\r\n    <!-- ko withModel: { component: \'accordion\', nestedTemplateModel: false,  viewModel: { {model.control.bindingString|s}} } -->\r\n        <div data-bind="style: style, dxAccordion: options">\r\n            {#model.panels}\r\n                <div data-options="dxItem: { title: {title} }">\r\n                    {>"xet-dust-flex" /}\r\n                </div>\r\n            {/model.panels}\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-row">\r\n    <!-- ko withModel: { component: \'row\', viewModel:{ {model.row.bindingString|s} }} -->\r\n        <div class="xet-row row-fluid" data-bind="style: $data.style, visible: $data.visible">\r\n            {#model.columns}\r\n                <!-- ko withModel: { component: \'column\', viewModel:{ {style.bindingString|s} }} -->\r\n                    <div class="xet-row-column {bootstrapColStyle}" data-bind="style: $data">\r\n                        {>"xet-dust-components" /}\r\n                    </div>\r\n                <!-- /ko -->\r\n            {/model.columns}\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-list">\r\n    <!-- ko withModel: { component: \'list\', nestedTemplateModel: true, viewModel: { {model.list.bindingString|s} } } -->\r\n        <div class="xet-list xet-flex-column-widget" data-bind="style: $data.style, dxList: $data">\r\n            {@if cond="\'{model.itemComponents}\'.length"}\r\n                <div data-options="dxTemplate: { name: \'item\' }" style="position: relative;">\r\n                    <div class="xet-flex-interlayer">\r\n                        {#model.itemComponents}\r\n                            {>"xet-dust-inflex-component" /}\r\n                        {/model.itemComponents}                        \r\n                    </div>\r\n                </div>\r\n            {/if}\r\n            {@if cond="\'{model.group}\'.length"}\r\n                <div data-options="dxTemplate: { name: \'group\' }" style="position: relative;">\r\n                    <div class="xet-flex-interlayer">\r\n                        {#model.groupComponents}\r\n                            {>"xet-dust-inflex-component" /}\r\n                        {/model.groupComponents}\r\n                    </div>\r\n                </div>\r\n            {/if}\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n\r\n<script type="text/html" id="xet-dust-form">\r\n    <!-- ko withModel: { component: \'form\', viewModel:{ {model.form.bindingString|s} }} -->\r\n    <div style="display: block" data-bind="style: $data.style, dxForm: $data">\r\n        {#model.components}\r\n        <div data-options="dxTemplate: { name: {model.templateName} }">\r\n            {>"xet-dust-{model.type}" /}\r\n        </div>\r\n        {/model.components}        \r\n    </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-scrollview">\r\n    <!-- ko withModel: { component: \'scrollview\', nestedTemplateModel: false, viewModel: { {model.scrollview.bindingString|s} } } -->\r\n        <div style="display: flex;" data-bind="style: $data.style, dxScrollView: $data">\r\n            {#.model}\r\n                {>"xet-dust-flex" /}\r\n            {/.model}\r\n        </div>\r\n    <!-- /ko -->\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-scrollview-embedded">\r\n    <div class="xet-scroll-view"  style="display: flex;" data-bind="dxScrollView">\r\n        {>"xet-dust-flex" /}\r\n    </div>\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-option-bindings">\r\n    {~lb}\r\n        {#options}\r\n            {name}: {value},\r\n        {/options}\r\n    {~rb}\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-simple-bindings">\r\n    {#options}\r\n        {name}: {value},\r\n    {/options}\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-bindings">\r\n    {~lb}\r\n        {>"xet-dust-simple-bindings" /}\r\n    {~rb}\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-components">\r\n    {#.components}\r\n        {>"xet-dust-{model.type}" /}\r\n    {/.components}\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-inflex-component">\r\n    <div  data-bind="preventCollapsingInSafari" class="xet-flex-widget {@if cond="{preventShrink}"}xet-prevent-shrink{/if}" />\r\n    {#component}\r\n        {>"xet-dust-{model.type}" /}\r\n    {/component}\r\n</script>\r\n\r\n\r\n<script type="text/html" id="xet-dust-inflex-components">\r\n    {#.components}\r\n        {>"xet-dust-inflex-component" /}\r\n    {/.components}\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-flex">\r\n    <div class="xet-flex-interlayer">\r\n        {>"xet-dust-inflex-components" /}\r\n    </div>\r\n</script>\r\n\r\n<script type="text/html" id="xet-dust-view">\r\n    <div data-options="dxView : { {bindingString|s} }">\r\n        <div data-options="dxContent : { targetPlaceholder: \'content\' }" class="dx-detail-view dx-content-background" data-bind="xetScrollViewResetter: _scrollViewResetter">\r\n            {#model}\r\n                {#commands}\r\n                    <!-- ko withModel: { component: \'command\', viewModel:{ {bindingString|s} }} -->\r\n                        <div data-bind="dxCommand: $data"></div>\r\n                    <!-- /ko -->\r\n                {/commands}\r\n                <div class="dx-full-height" data-bind="dxDeferRendering: { showLoadIndicator: !!window.cordova, animation: \'view-content-rendered\', renderWhen: isReady, onRendered: $data.onViewRendered }">\r\n                    {@if cond="{scrollable}"}\r\n                        {>"xet-dust-scrollview-embedded" /}\r\n                    {:else}\r\n                        {>"xet-dust-flex" /}\r\n                    {/if}\r\n                </div>\r\n            {/model}\r\n        </div>\r\n    </div>\r\n</script>\r\n');
}}}),System.register("appPlayer/appPlayerLoader.js",["appPlayer/content/app-player.css!","appPlayer/appPlayer","appPlayer/templates/viewcomponents.html!text"],function(e){"use strict";var t;return{setters:[function(e){},function(e){},function(e){t=e.default}],execute:function(){AppPlayer.Utils.appendHtml(document.body,t)}}}),function(e){if("undefined"!=typeof document){var t=document,r="appendChild",n="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][r](i),i[n]?i[n].cssText=e:i[r](t.createTextNode(e))}}(".dx-theme-generic .desktop-layout .dx-content-header .dx-toolbar h2,.dx-theme-generic .dx-popup-content .dx-button{margin:0}body a{text-decoration:underline}.dx-theme-generic .xet-fileimage .xet-fileimage-container{width:100%;height:100%;display:table}.dx-theme-generic .xet-fileimage .xet-fileimage-container .xet-fileimage-background-image{height:100%;width:100%;background-repeat:no-repeat;background-position-x:50%;background-position-y:50%}.dx-theme-generic .xet-fileimage .xet-fileimage-container .xet-empty-label{display:table-cell;vertical-align:middle;text-align:center}.dx-theme-generic .dx-field-label{-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;text-overflow:ellipsis}.dx-theme-generic .dx-field-label div{display:inline}.dx-theme-generic .xet-stack-panel,.dx-theme-generic .xet-stack-panel .xet-scroller .xet-inscroller{display:flex}.dx-theme-generic .dx-field-value>.xet-label{padding:8px 15px 9px 0}.dx-theme-generic .simple-layout.nested .layout-header .dx-toolbar-before .dx-toolbar-label{padding-left:10px;font-weight:500}.dx-theme-generic .desktop-layout .xet-list{height:auto}.dx-theme-generic .navigation-toolbar{height:50px;border-bottom:none}.dx-theme-generic .navigation-toolbar .dx-toolbar-label{font-size:inherit}.dx-theme-generic .xet-single-column-fieldset{margin:20px 15px}.dx-theme-generic .xet-single-column-fieldset .xet-fieldset-sigle-column-label{color:#818181;margin-top:15px;margin-bottom:0;overflow:hidden}.dx-theme-generic .xet-single-column-fieldset .xet-fieldset-sigle-column-label:first-child{margin-top:0}.dx-theme-generic .xet-label{white-space:normal}.dx-theme-generic .xet-label img{max-width:100%;height:auto}.dx-theme-generic .xet-label-value{overflow:hidden}.dx-theme-generic .xet-datebox .dx-dropdowneditor-input-wrapper{width:100%}.dx-theme-generic .xet-datebox .dx-dropdowneditor-icon:before{content:'\\f026'}.dx-theme-generic .xet-color-picker .dx-colorbox-input-container{width:100%}.dx-theme-generic .xet-list .dx-list-item-content{padding:0}.dx-theme-generic .xet-button{justify-content:center}.dx-theme-generic .xet-button .dx-button-content{width:100%}.dx-theme-generic .xet-stack-panel .xet-scroller{display:flex;width:100%;height:initial}.dx-theme-generic .xet-flex-widget{display:none}.dx-theme-generic .xet-flex-widget+*{display:flex}.dx-theme-generic .xet-scroll-view .dx-scrollable-wrapper{display:flex;flex-grow:1;flex-direction:column;height:auto}.dx-theme-generic .xet-scroll-view .dx-scrollable-wrapper .dx-scrollable-container{height:initial}.dx-theme-generic .xet-flex-column-widget{flex-direction:column}.dx-theme-generic .xet-prevent-shrink{display:none}.dx-theme-generic .xet-prevent-shrink+*{flex-shrink:0}.dx-theme-generic .xet-flex-interlayer{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:100%;height:100%}.dx-theme-generic .xet-row{flex-direction:row;flex-wrap:wrap;margin-left:0;margin-right:0;font-size:0}.dx-theme-generic .xet-row .xet-row-column.col-lg-1,.dx-theme-generic .xet-row .xet-row-column.col-lg-10,.dx-theme-generic .xet-row .xet-row-column.col-lg-11,.dx-theme-generic .xet-row .xet-row-column.col-lg-12,.dx-theme-generic .xet-row .xet-row-column.col-lg-2,.dx-theme-generic .xet-row .xet-row-column.col-lg-3,.dx-theme-generic .xet-row .xet-row-column.col-lg-4,.dx-theme-generic .xet-row .xet-row-column.col-lg-5,.dx-theme-generic .xet-row .xet-row-column.col-lg-6,.dx-theme-generic .xet-row .xet-row-column.col-lg-7,.dx-theme-generic .xet-row .xet-row-column.col-lg-8,.dx-theme-generic .xet-row .xet-row-column.col-lg-9,.dx-theme-generic .xet-row .xet-row-column.col-md-1,.dx-theme-generic .xet-row .xet-row-column.col-md-10,.dx-theme-generic .xet-row .xet-row-column.col-md-11,.dx-theme-generic .xet-row .xet-row-column.col-md-12,.dx-theme-generic .xet-row .xet-row-column.col-md-2,.dx-theme-generic .xet-row .xet-row-column.col-md-3,.dx-theme-generic .xet-row .xet-row-column.col-md-4,.dx-theme-generic .xet-row .xet-row-column.col-md-5,.dx-theme-generic .xet-row .xet-row-column.col-md-6,.dx-theme-generic .xet-row .xet-row-column.col-md-7,.dx-theme-generic .xet-row .xet-row-column.col-md-8,.dx-theme-generic .xet-row .xet-row-column.col-md-9,.dx-theme-generic .xet-row .xet-row-column.col-sm-1,.dx-theme-generic .xet-row .xet-row-column.col-sm-10,.dx-theme-generic .xet-row .xet-row-column.col-sm-11,.dx-theme-generic .xet-row .xet-row-column.col-sm-12,.dx-theme-generic .xet-row .xet-row-column.col-sm-2,.dx-theme-generic .xet-row .xet-row-column.col-sm-3,.dx-theme-generic .xet-row .xet-row-column.col-sm-4,.dx-theme-generic .xet-row .xet-row-column.col-sm-5,.dx-theme-generic .xet-row .xet-row-column.col-sm-6,.dx-theme-generic .xet-row .xet-row-column.col-sm-7,.dx-theme-generic .xet-row .xet-row-column.col-sm-8,.dx-theme-generic .xet-row .xet-row-column.col-sm-9,.dx-theme-generic .xet-row .xet-row-column.col-xs-1,.dx-theme-generic .xet-row .xet-row-column.col-xs-10,.dx-theme-generic .xet-row .xet-row-column.col-xs-11,.dx-theme-generic .xet-row .xet-row-column.col-xs-12,.dx-theme-generic .xet-row .xet-row-column.col-xs-2,.dx-theme-generic .xet-row .xet-row-column.col-xs-3,.dx-theme-generic .xet-row .xet-row-column.col-xs-4,.dx-theme-generic .xet-row .xet-row-column.col-xs-5,.dx-theme-generic .xet-row .xet-row-column.col-xs-6,.dx-theme-generic .xet-row .xet-row-column.col-xs-7,.dx-theme-generic .xet-row .xet-row-column.col-xs-8,.dx-theme-generic .xet-row .xet-row-column.col-xs-9{float:none;display:inline-block;overflow:hidden;padding-left:0;padding-right:0;font-size:initial}.dx-theme-generic .dx-list .dx-list-item-before-bag.dx-list-select-checkbox-container,.dx-theme-generic .dx-list .dx-list-item-before-bag.dx-list-select-radiobutton-container{width:42px}.dx-theme-generic .dx-list .dx-list-item-before-bag.dx-list-select-checkbox-container .dx-list-select-checkbox,.dx-theme-generic .dx-list .dx-list-item-before-bag.dx-list-select-checkbox-container .dx-list-select-radiobutton,.dx-theme-generic .dx-list .dx-list-item-before-bag.dx-list-select-radiobutton-container .dx-list-select-checkbox,.dx-theme-generic .dx-list .dx-list-item-before-bag.dx-list-select-radiobutton-container .dx-list-select-radiobutton{margin-right:10px}.dx-theme-generic .dx-list .edit-mode-item{position:relative;min-height:40px}.dx-theme-generic .dx-list .edit-mode-item .remove-button{position:absolute;top:8px;right:10px;visibility:hidden}.dx-theme-generic .dx-list .edit-mode-item .remove-button.hover{visibility:visible}.dx-theme-generic.dx-device-mobile .dx-list .dx-list-item-before-bag.dx-list-select-checkbox-container,.dx-theme-generic.dx-device-mobile .dx-list .dx-list-item-before-bag.dx-list-select-radiobutton-container{width:52px}.dx-theme-generic.dx-device-mobile .dx-list .dx-list-item-before-bag.dx-list-select-checkbox-container .dx-list-select-checkbox,.dx-theme-generic.dx-device-mobile .dx-list .dx-list-item-before-bag.dx-list-select-checkbox-container .dx-list-select-radiobutton,.dx-theme-generic.dx-device-mobile .dx-list .dx-list-item-before-bag.dx-list-select-radiobutton-container .dx-list-select-checkbox,.dx-theme-generic.dx-device-mobile .dx-list .dx-list-item-before-bag.dx-list-select-radiobutton-container .dx-list-select-radiobutton{margin-right:15px}.dx-theme-generic .dx-toast-message .dx-button{margin-top:10px;margin-right:10px}.dx-theme-generic .dx-toast-message a{color:#fff}.dx-theme-generic .dx-button.dx-button-normal.transparent{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:transparent;background-repeat:no-repeat;background-image:none;border:none}");
//# sourceMappingURL=/sourcemaps/appPlayer.js.map
